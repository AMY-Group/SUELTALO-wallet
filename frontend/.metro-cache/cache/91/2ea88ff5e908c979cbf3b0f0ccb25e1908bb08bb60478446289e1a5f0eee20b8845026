{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"]}},{"name":"../addEventListener","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":10,"column":0,"index":181},"end":{"line":10,"column":55,"index":236}}],"key":"4xvCwHsxCKw+bkXrhCHsTztm4zw=","exportNames":["*"]}},{"name":"../canUseDom","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":11,"column":0,"index":237},"end":{"line":11,"column":37,"index":274}}],"key":"NAgv5vx4h/J1uxoLSWxqZG/Z81Y=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){var t=r(d[0],\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(e,\"__esModule\",{value:!0}),e.addModalityListener=function(t){return f.add(t),()=>{f.delete(t)}},e.getActiveModality=function(){return s},e.getModality=function(){return l},e.testOnly_resetActiveModality=function(){v=!1,s=y,l=y};var n,o,u=r(d[1],\"../addEventListener\"),c=t(r(d[2],\"../canUseDom\")),s='keyboard',l='keyboard',v=!1,f=new Set,y='keyboard',E='mouse',L='touch',h='contextmenu',p='mousedown',b='mousemove',w='mouseup',M='pointerdown',_='pointermove',k='scroll',K='selectionchange',A='touchcancel',D='touchmove',O='touchstart',S={passive:!0},j={capture:!0,passive:!0};function q(){null==n&&null==o||(null!=n&&(l=n,n=null),null!=o&&(s=o,o=null),P())}function x(t){var n=t.type;if(v||(n===p&&s!==E&&(l=E,s=E,P()),n===b&&l!==E&&(l=E,P())),n===O)return v=!0,t.touches&&t.touches.length>1&&(v=!1),void(s!==L&&(l=L,s=L,P()));n!==h&&n!==w&&n!==K&&n!==k&&n!==A&&n!==D||(v=!1)}function P(){var t={activeModality:s,modality:l};f.forEach(n=>{n(t)})}c.default&&((0,u.addEventListener)(window,'blur',function(){n=l,o=s,s=y,l=y,P(),v=!1},S),(0,u.addEventListener)(window,'focus',function(){q()},S),(0,u.addEventListener)(document,'keydown',function(t){t.metaKey||t.altKey||t.ctrlKey||l!==y&&(l=y,s=y,P())},j),(0,u.addEventListener)(document,'visibilitychange',function(){'hidden'!==document.visibilityState&&q()},j),(0,u.addEventListener)(document,M,x,j),(0,u.addEventListener)(document,_,x,j),(0,u.addEventListener)(document,h,x,j),(0,u.addEventListener)(document,p,x,j),(0,u.addEventListener)(document,b,x,j),(0,u.addEventListener)(document,w,x,j),(0,u.addEventListener)(document,A,x,j),(0,u.addEventListener)(document,D,x,j),(0,u.addEventListener)(document,O,x,j),(0,u.addEventListener)(document,K,x,j),(0,u.addEventListener)(document,k,x,j))});","lineCount":1,"map":[[1,160,178,7],[1,169,178,36,"listener"],[1,172,180,2],[1,179,179,2,"listeners"],[1,181,179,12,"add"],[1,185,179,16,"listener"],[1,188,180,9],[1,193,181,4,"listeners"],[1,195,181,14,"delete"],[1,202,181,21,"listener"],[1,205,183,0],[1,207],[1,227,172,7],[1,238,173,2],[1,245,173,9,"activeModality"],[1,246,174,0],[1,248],[1,262,175,7],[1,273,176,2],[1,280,176,9,"modality"],[1,281,177,0],[1,283],[1,314,184,7],[1,325,185,2,"isEmulatingMouseEvents"],[1,328,185,27],[1,330,186,2,"activeModality"],[1,332,186,19,"KEYBOARD"],[1,334,187,2,"modality"],[1,336,187,13,"KEYBOARD"],[1,337,188,0],[1,339,10,0],[1,343,15,4,"previousModality"],[1,345,16,4,"previousActiveModality"],[1,347,10,0,"_addEventListener"],[1,349,10,0,"r"],[1,351,10,0,"d"],[1,353,10,0],[1,379,11,0,"_canUseDom"],[1,381,11,0,"_interopRequireDefault"],[1,383,11,0,"r"],[1,385,11,0,"d"],[1,387,11,0],[1,407,13,4,"activeModality"],[1,409,13,21],[1,420,14,4,"modality"],[1,422,14,15],[1,433,17,4,"isEmulatingMouseEvents"],[1,436,17,29],[1,438,18,4,"listeners"],[1,440,18,16],[1,444,18,20,"Set"],[1,448,19,4,"KEYBOARD"],[1,450,19,15],[1,461,20,4,"MOUSE"],[1,463,20,12],[1,471,21,4,"TOUCH"],[1,473,21,12],[1,481,23,4,"CONTEXTMENU"],[1,483,23,18],[1,497,26,4,"MOUSEDOWN"],[1,499,26,16],[1,511,27,4,"MOUSEMOVE"],[1,513,27,16],[1,525,28,4,"MOUSEUP"],[1,527,28,14],[1,537,29,4,"POINTERDOWN"],[1,539,29,18],[1,553,30,4,"POINTERMOVE"],[1,555,30,18],[1,569,31,4,"SCROLL"],[1,571,31,13],[1,580,32,4,"SELECTIONCHANGE"],[1,582,32,22],[1,600,33,4,"TOUCHCANCEL"],[1,602,33,18],[1,616,34,4,"TOUCHMOVE"],[1,618,34,16],[1,630,35,4,"TOUCHSTART"],[1,632,35,17],[1,645,37,4,"bubbleOptions"],[1,647,37,20],[1,648,38,2,"passive"],[1,657,38,11],[1,660,40,4,"captureOptions"],[1,662,40,21],[1,663,41,2,"capture"],[1,672,41,11],[1,674,42,2,"passive"],[1,683,42,11],[1,686,44,0],[1,695,44,9,"restoreModality"],[1,699,45,26],[1,705,45,6,"previousModality"],[1,708,45,60],[1,714,45,34,"previousActiveModality"],[1,718,46,28],[1,724,46,8,"previousModality"],[1,728,47,6,"modality"],[1,730,47,17,"previousModality"],[1,732,48,6,"previousModality"],[1,734,48,25],[1,740,50,34],[1,746,50,8,"previousActiveModality"],[1,750,51,6,"activeModality"],[1,752,51,23,"previousActiveModality"],[1,754,52,6,"previousActiveModality"],[1,756,52,31],[1,762,54,4,"callListeners"],[1,766,56,0],[1,767,84,0],[1,776,84,9,"onPointerish"],[1,778,84,22,"event"],[1,781,85,2],[1,785,85,6,"eventType"],[1,787,85,18,"event"],[1,789,85,24,"type"],[1,794,122,4],[1,797,105,9,"isEmulatingMouseEvents"],[1,801,106,10,"eventType"],[1,805,106,24,"MOUSEDOWN"],[1,808,107,12,"activeModality"],[1,812,107,31,"MOUSE"],[1,816,108,10,"modality"],[1,818,108,21,"MOUSE"],[1,820,109,10,"activeModality"],[1,822,109,27,"MOUSE"],[1,824,110,10,"callListeners"],[1,829,113,10,"eventType"],[1,833,113,24,"MOUSEMOVE"],[1,836,114,12,"modality"],[1,840,114,25,"MOUSE"],[1,844,115,10,"modality"],[1,846,115,21,"MOUSE"],[1,848,116,10,"callListeners"],[1,854,122,8,"eventType"],[1,858,122,22,"TOUCHSTART"],[1,860,132,6],[1,867,123,6,"isEmulatingMouseEvents"],[1,870,123,31],[1,872,124,10,"event"],[1,874,124,16,"touches"],[1,883,124,27,"event"],[1,885,124,33,"touches"],[1,893,124,41,"length"],[1,900,124,50],[1,904,125,8,"isEmulatingMouseEvents"],[1,907,125,33],[1,915,127,10,"activeModality"],[1,919,127,29,"TOUCH"],[1,923,128,8,"modality"],[1,925,128,19,"TOUCH"],[1,927,129,8,"activeModality"],[1,929,129,25,"TOUCH"],[1,931,130,8,"callListeners"],[1,937,137,8,"eventType"],[1,941,137,22,"CONTEXTMENU"],[1,944,137,37,"eventType"],[1,948,137,51,"MOUSEUP"],[1,951,137,62,"eventType"],[1,955,137,76,"SELECTIONCHANGE"],[1,958,137,95,"eventType"],[1,962,137,109,"SCROLL"],[1,965,137,119,"eventType"],[1,969,137,133,"TOUCHCANCEL"],[1,972,137,148,"eventType"],[1,976,137,162,"TOUCHMOVE"],[1,980,138,6,"isEmulatingMouseEvents"],[1,983,138,31],[1,985,141,0],[1,986,163,0],[1,995,163,9,"callListeners"],[1,999,164,2],[1,1003,164,6,"value"],[1,1005,164,14],[1,1006,165,4,"activeModality"],[1,1023,166,4,"modality"],[1,1035,168,2,"listeners"],[1,1037,168,12,"forEach"],[1,1045,168,20,"listener"],[1,1049,169,4,"listener"],[1,1051,169,13,"value"],[1,1055,171,0],[1,1056,142,4,"canUseDOM"],[1,1069,144,2],[1,1071,144,2,"addEventListener"],[1,1091,144,19,"window"],[1,1098,22,11],[1,1105,57,0],[1,1116,58,2,"previousModality"],[1,1118,58,21,"modality"],[1,1120,59,2,"previousActiveModality"],[1,1122,59,27,"activeModality"],[1,1124,60,2,"activeModality"],[1,1126,60,19,"KEYBOARD"],[1,1128,61,2,"modality"],[1,1130,61,13,"KEYBOARD"],[1,1132,62,2,"callListeners"],[1,1136,64,2,"isEmulatingMouseEvents"],[1,1139,64,27],[1,1140,65,0],[1,1142,144,47,"bubbleOptions"],[1,1146,145,2],[1,1148,145,2,"addEventListener"],[1,1168,145,19,"window"],[1,1175,24,12],[1,1183,66,0],[1,1194,67,2,"restoreModality"],[1,1197,68,0],[1,1199,145,49,"bubbleOptions"],[1,1203,148,2],[1,1205,148,2,"addEventListener"],[1,1225,148,19,"document"],[1,1234,25,14],[1,1244,69,0],[1,1253,69,19,"event"],[1,1256,70,6,"event"],[1,1258,70,12,"metaKey"],[1,1267,70,23,"event"],[1,1269,70,29,"altKey"],[1,1277,70,39,"event"],[1,1279,70,45,"ctrlKey"],[1,1288,73,6,"modality"],[1,1292,73,19,"KEYBOARD"],[1,1296,74,4,"modality"],[1,1298,74,15,"KEYBOARD"],[1,1300,75,4,"activeModality"],[1,1302,75,21,"KEYBOARD"],[1,1304,76,4,"callListeners"],[1,1308,78,0],[1,1310,148,49,"captureOptions"],[1,1314,149,2],[1,1316,149,2,"addEventListener"],[1,1336,149,19,"document"],[1,1345,36,23],[1,1364,79,0],[1,1375,80,35],[1,1386,80,6,"document"],[1,1395,80,15,"visibilityState"],[1,1412,81,4,"restoreModality"],[1,1415,83,0],[1,1417,149,67,"captureOptions"],[1,1421,150,2],[1,1423,150,2,"addEventListener"],[1,1443,150,19,"document"],[1,1452,150,29,"POINTERDOWN"],[1,1454,150,42,"onPointerish"],[1,1456,150,56,"captureOptions"],[1,1460,151,2],[1,1462,151,2,"addEventListener"],[1,1482,151,19,"document"],[1,1491,151,29,"POINTERMOVE"],[1,1493,151,42,"onPointerish"],[1,1495,151,56,"captureOptions"],[1,1499,153,2],[1,1501,153,2,"addEventListener"],[1,1521,153,19,"document"],[1,1530,153,29,"CONTEXTMENU"],[1,1532,153,42,"onPointerish"],[1,1534,153,56,"captureOptions"],[1,1538,154,2],[1,1540,154,2,"addEventListener"],[1,1560,154,19,"document"],[1,1569,154,29,"MOUSEDOWN"],[1,1571,154,40,"onPointerish"],[1,1573,154,54,"captureOptions"],[1,1577,155,2],[1,1579,155,2,"addEventListener"],[1,1599,155,19,"document"],[1,1608,155,29,"MOUSEMOVE"],[1,1610,155,40,"onPointerish"],[1,1612,155,54,"captureOptions"],[1,1616,156,2],[1,1618,156,2,"addEventListener"],[1,1638,156,19,"document"],[1,1647,156,29,"MOUSEUP"],[1,1649,156,38,"onPointerish"],[1,1651,156,52,"captureOptions"],[1,1655,157,2],[1,1657,157,2,"addEventListener"],[1,1677,157,19,"document"],[1,1686,157,29,"TOUCHCANCEL"],[1,1688,157,42,"onPointerish"],[1,1690,157,56,"captureOptions"],[1,1694,158,2],[1,1696,158,2,"addEventListener"],[1,1716,158,19,"document"],[1,1725,158,29,"TOUCHMOVE"],[1,1727,158,40,"onPointerish"],[1,1729,158,54,"captureOptions"],[1,1733,159,2],[1,1735,159,2,"addEventListener"],[1,1755,159,19,"document"],[1,1764,159,29,"TOUCHSTART"],[1,1766,159,41,"onPointerish"],[1,1768,159,55,"captureOptions"],[1,1772,160,2],[1,1774,160,2,"addEventListener"],[1,1794,160,19,"document"],[1,1803,160,29,"SELECTIONCHANGE"],[1,1805,160,46,"onPointerish"],[1,1807,160,60,"captureOptions"],[1,1811,161,2],[1,1813,161,2,"addEventListener"],[1,1833,161,19,"document"],[1,1842,161,29,"SCROLL"],[1,1844,161,37,"onPointerish"],[1,1846,161,51,"captureOptions"],[1,1849,188,1],[1,1852]],"functionMap":{"names":["<global>","supportsPointerEvent","restoreModality","onBlurWindow","onFocusWindow","onKeyDown","onVisibilityChange","onPointerish","callListeners","listeners.forEach$argument_0","getActiveModality","getModality","addModalityListener","<anonymous>","testOnly_resetActiveModality"],"mappings":"AAA;2BCW,sED;AEgC;CFY;AGC;CHQ;AIC;CJE;AKC;CLS;AMC;CNI;AOC;CPyD;AQsB;oBCK;GDE;CRC;OUC;CVE;OWC;CXE;OYC;SCE;GDE;CZC;OcC"}},"type":"js/module"}]}