{"dependencies":[{"name":"@solana/buffer-layout","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":51,"index":51}}],"key":"QwywkJpcZkKLkjXs9E7VxOaHAHQ=","exportNames":["*"]}},{"name":"@solana/web3.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":52},"end":{"line":2,"column":57,"index":109}}],"key":"hVqIgOgXAH1+S7mu7qk6LJzdVc8=","exportNames":["*"]}},{"name":"../constants.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":110},"end":{"line":3,"column":51,"index":161}}],"key":"w33QN4nlqAZn5CNK6M5HKbLWgBA=","exportNames":["*"]}},{"name":"../errors.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":162},"end":{"line":4,"column":170,"index":332}}],"key":"hqwpWRawU/ruYp+nBkn/8IqEHoU=","exportNames":["*"]}},{"name":"./internal.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":333},"end":{"line":5,"column":43,"index":376}}],"key":"8koSC5bhCi+pFNPMfaVFms7TipA=","exportNames":["*"]}},{"name":"./types.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":377},"end":{"line":6,"column":46,"index":423}}],"key":"yJvqu7zVoaSgx/LOxsKU/6eppkQ=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.createRevokeInstruction = createRevokeInstruction;\n  exports.decodeRevokeInstruction = decodeRevokeInstruction;\n  exports.decodeRevokeInstructionUnchecked = decodeRevokeInstructionUnchecked;\n  exports.revokeInstructionData = void 0;\n  var _bufferLayout = require(_dependencyMap[0], \"@solana/buffer-layout\");\n  var _web = require(_dependencyMap[1], \"@solana/web3.js\");\n  var _constants = require(_dependencyMap[2], \"../constants.js\");\n  var _errors = require(_dependencyMap[3], \"../errors.js\");\n  var _internal = require(_dependencyMap[4], \"./internal.js\");\n  var _types = require(_dependencyMap[5], \"./types.js\");\n  /** TODO: docs */\n  const revokeInstructionData = exports.revokeInstructionData = (0, _bufferLayout.struct)([(0, _bufferLayout.u8)('instruction')]);\n  /**\n   * Construct a Revoke instruction\n   *\n   * @param account      Address of the token account\n   * @param owner        Owner of the account\n   * @param multiSigners Signing accounts if `owner` is a multisig\n   * @param programId    SPL Token program account\n   *\n   * @return Instruction to add to a transaction\n   */\n  function createRevokeInstruction(account, owner, multiSigners = [], programId = _constants.TOKEN_PROGRAM_ID) {\n    const keys = (0, _internal.addSigners)([{\n      pubkey: account,\n      isSigner: false,\n      isWritable: true\n    }], owner, multiSigners);\n    const data = Buffer.alloc(revokeInstructionData.span);\n    revokeInstructionData.encode({\n      instruction: _types.TokenInstruction.Revoke\n    }, data);\n    return new _web.TransactionInstruction({\n      keys,\n      programId,\n      data\n    });\n  }\n  /**\n   * Decode a Revoke instruction and validate it\n   *\n   * @param instruction Transaction instruction to decode\n   * @param programId   SPL Token program account\n   *\n   * @return Decoded, valid instruction\n   */\n  function decodeRevokeInstruction(instruction, programId = _constants.TOKEN_PROGRAM_ID) {\n    if (!instruction.programId.equals(programId)) throw new _errors.TokenInvalidInstructionProgramError();\n    if (instruction.data.length !== revokeInstructionData.span) throw new _errors.TokenInvalidInstructionDataError();\n    const {\n      keys: {\n        account,\n        owner,\n        multiSigners\n      },\n      data\n    } = decodeRevokeInstructionUnchecked(instruction);\n    if (data.instruction !== _types.TokenInstruction.Revoke) throw new _errors.TokenInvalidInstructionTypeError();\n    if (!account || !owner) throw new _errors.TokenInvalidInstructionKeysError();\n    // TODO: key checks?\n    return {\n      programId,\n      keys: {\n        account,\n        owner,\n        multiSigners\n      },\n      data\n    };\n  }\n  /**\n   * Decode a Revoke instruction without validating it\n   *\n   * @param instruction Transaction instruction to decode\n   *\n   * @return Decoded, non-validated instruction\n   */\n  function decodeRevokeInstructionUnchecked({\n    programId,\n    keys: [account, owner, ...multiSigners],\n    data\n  }) {\n    return {\n      programId,\n      keys: {\n        account,\n        owner,\n        multiSigners\n      },\n      data: revokeInstructionData.decode(data)\n    };\n  }\n});","lineCount":97,"map":[[9,2,1,0],[9,6,1,0,"_bufferLayout"],[9,19,1,0],[9,22,1,0,"require"],[9,29,1,0],[9,30,1,0,"_dependencyMap"],[9,44,1,0],[10,2,2,0],[10,6,2,0,"_web"],[10,10,2,0],[10,13,2,0,"require"],[10,20,2,0],[10,21,2,0,"_dependencyMap"],[10,35,2,0],[11,2,3,0],[11,6,3,0,"_constants"],[11,16,3,0],[11,19,3,0,"require"],[11,26,3,0],[11,27,3,0,"_dependencyMap"],[11,41,3,0],[12,2,4,0],[12,6,4,0,"_errors"],[12,13,4,0],[12,16,4,0,"require"],[12,23,4,0],[12,24,4,0,"_dependencyMap"],[12,38,4,0],[13,2,5,0],[13,6,5,0,"_internal"],[13,15,5,0],[13,18,5,0,"require"],[13,25,5,0],[13,26,5,0,"_dependencyMap"],[13,40,5,0],[14,2,6,0],[14,6,6,0,"_types"],[14,12,6,0],[14,15,6,0,"require"],[14,22,6,0],[14,23,6,0,"_dependencyMap"],[14,37,6,0],[15,2,7,0],[16,2,8,7],[16,8,8,13,"revokeInstructionData"],[16,29,8,34],[16,32,8,34,"exports"],[16,39,8,34],[16,40,8,34,"revokeInstructionData"],[16,61,8,34],[16,64,8,37],[16,68,8,37,"struct"],[16,88,8,43],[16,90,8,44],[16,91,8,45],[16,95,8,45,"u8"],[16,111,8,47],[16,113,8,48],[16,126,8,61],[16,127,8,62],[16,128,8,63],[16,129,8,64],[17,2,9,0],[18,0,10,0],[19,0,11,0],[20,0,12,0],[21,0,13,0],[22,0,14,0],[23,0,15,0],[24,0,16,0],[25,0,17,0],[26,0,18,0],[27,2,19,7],[27,11,19,16,"createRevokeInstruction"],[27,34,19,39,"createRevokeInstruction"],[27,35,19,40,"account"],[27,42,19,47],[27,44,19,49,"owner"],[27,49,19,54],[27,51,19,56,"multiSigners"],[27,63,19,68],[27,66,19,71],[27,68,19,73],[27,70,19,75,"programId"],[27,79,19,84],[27,82,19,87,"TOKEN_PROGRAM_ID"],[27,109,19,103],[27,111,19,105],[28,4,20,4],[28,10,20,10,"keys"],[28,14,20,14],[28,17,20,17],[28,21,20,17,"addSigners"],[28,41,20,27],[28,43,20,28],[28,44,20,29],[29,6,20,31,"pubkey"],[29,12,20,37],[29,14,20,39,"account"],[29,21,20,46],[30,6,20,48,"isSigner"],[30,14,20,56],[30,16,20,58],[30,21,20,63],[31,6,20,65,"isWritable"],[31,16,20,75],[31,18,20,77],[32,4,20,82],[32,5,20,83],[32,6,20,84],[32,8,20,86,"owner"],[32,13,20,91],[32,15,20,93,"multiSigners"],[32,27,20,105],[32,28,20,106],[33,4,21,4],[33,10,21,10,"data"],[33,14,21,14],[33,17,21,17,"Buffer"],[33,23,21,23],[33,24,21,24,"alloc"],[33,29,21,29],[33,30,21,30,"revokeInstructionData"],[33,51,21,51],[33,52,21,52,"span"],[33,56,21,56],[33,57,21,57],[34,4,22,4,"revokeInstructionData"],[34,25,22,25],[34,26,22,26,"encode"],[34,32,22,32],[34,33,22,33],[35,6,22,35,"instruction"],[35,17,22,46],[35,19,22,48,"TokenInstruction"],[35,42,22,64],[35,43,22,65,"Revoke"],[36,4,22,72],[36,5,22,73],[36,7,22,75,"data"],[36,11,22,79],[36,12,22,80],[37,4,23,4],[37,11,23,11],[37,15,23,15,"TransactionInstruction"],[37,42,23,37],[37,43,23,38],[38,6,23,40,"keys"],[38,10,23,44],[39,6,23,46,"programId"],[39,15,23,55],[40,6,23,57,"data"],[41,4,23,62],[41,5,23,63],[41,6,23,64],[42,2,24,0],[43,2,25,0],[44,0,26,0],[45,0,27,0],[46,0,28,0],[47,0,29,0],[48,0,30,0],[49,0,31,0],[50,0,32,0],[51,2,33,7],[51,11,33,16,"decodeRevokeInstruction"],[51,34,33,39,"decodeRevokeInstruction"],[51,35,33,40,"instruction"],[51,46,33,51],[51,48,33,53,"programId"],[51,57,33,62],[51,60,33,65,"TOKEN_PROGRAM_ID"],[51,87,33,81],[51,89,33,83],[52,4,34,4],[52,8,34,8],[52,9,34,9,"instruction"],[52,20,34,20],[52,21,34,21,"programId"],[52,30,34,30],[52,31,34,31,"equals"],[52,37,34,37],[52,38,34,38,"programId"],[52,47,34,47],[52,48,34,48],[52,50,35,8],[52,56,35,14],[52,60,35,18,"TokenInvalidInstructionProgramError"],[52,103,35,53],[52,104,35,54],[52,105,35,55],[53,4,36,4],[53,8,36,8,"instruction"],[53,19,36,19],[53,20,36,20,"data"],[53,24,36,24],[53,25,36,25,"length"],[53,31,36,31],[53,36,36,36,"revokeInstructionData"],[53,57,36,57],[53,58,36,58,"span"],[53,62,36,62],[53,64,37,8],[53,70,37,14],[53,74,37,18,"TokenInvalidInstructionDataError"],[53,114,37,50],[53,115,37,51],[53,116,37,52],[54,4,38,4],[54,10,38,10],[55,6,38,12,"keys"],[55,10,38,16],[55,12,38,18],[56,8,38,20,"account"],[56,15,38,27],[57,8,38,29,"owner"],[57,13,38,34],[58,8,38,36,"multiSigners"],[59,6,38,49],[59,7,38,50],[60,6,38,52,"data"],[61,4,38,58],[61,5,38,59],[61,8,38,62,"decodeRevokeInstructionUnchecked"],[61,40,38,94],[61,41,38,95,"instruction"],[61,52,38,106],[61,53,38,107],[62,4,39,4],[62,8,39,8,"data"],[62,12,39,12],[62,13,39,13,"instruction"],[62,24,39,24],[62,29,39,29,"TokenInstruction"],[62,52,39,45],[62,53,39,46,"Revoke"],[62,59,39,52],[62,61,40,8],[62,67,40,14],[62,71,40,18,"TokenInvalidInstructionTypeError"],[62,111,40,50],[62,112,40,51],[62,113,40,52],[63,4,41,4],[63,8,41,8],[63,9,41,9,"account"],[63,16,41,16],[63,20,41,20],[63,21,41,21,"owner"],[63,26,41,26],[63,28,42,8],[63,34,42,14],[63,38,42,18,"TokenInvalidInstructionKeysError"],[63,78,42,50],[63,79,42,51],[63,80,42,52],[64,4,43,4],[65,4,44,4],[65,11,44,11],[66,6,45,8,"programId"],[66,15,45,17],[67,6,46,8,"keys"],[67,10,46,12],[67,12,46,14],[68,8,47,12,"account"],[68,15,47,19],[69,8,48,12,"owner"],[69,13,48,17],[70,8,49,12,"multiSigners"],[71,6,50,8],[71,7,50,9],[72,6,51,8,"data"],[73,4,52,4],[73,5,52,5],[74,2,53,0],[75,2,54,0],[76,0,55,0],[77,0,56,0],[78,0,57,0],[79,0,58,0],[80,0,59,0],[81,0,60,0],[82,2,61,7],[82,11,61,16,"decodeRevokeInstructionUnchecked"],[82,43,61,48,"decodeRevokeInstructionUnchecked"],[82,44,61,49],[83,4,61,51,"programId"],[83,13,61,60],[84,4,61,62,"keys"],[84,8,61,66],[84,10,61,68],[84,11,61,69,"account"],[84,18,61,76],[84,20,61,78,"owner"],[84,25,61,83],[84,27,61,85],[84,30,61,88,"multiSigners"],[84,42,61,100],[84,43,61,101],[85,4,61,103,"data"],[86,2,61,109],[86,3,61,110],[86,5,61,112],[87,4,62,4],[87,11,62,11],[88,6,63,8,"programId"],[88,15,63,17],[89,6,64,8,"keys"],[89,10,64,12],[89,12,64,14],[90,8,65,12,"account"],[90,15,65,19],[91,8,66,12,"owner"],[91,13,66,17],[92,8,67,12,"multiSigners"],[93,6,68,8],[93,7,68,9],[94,6,69,8,"data"],[94,10,69,12],[94,12,69,14,"revokeInstructionData"],[94,33,69,35],[94,34,69,36,"decode"],[94,40,69,42],[94,41,69,43,"data"],[94,45,69,47],[95,4,70,4],[95,5,70,5],[96,2,71,0],[97,0,71,1],[97,3]],"functionMap":{"names":["<global>","createRevokeInstruction","decodeRevokeInstruction","decodeRevokeInstructionUnchecked"],"mappings":"AAA;OCkB;CDK;OES;CFoB;OGQ;CHU"}},"type":"js/module"}]}