{"dependencies":[{"name":"@solana/web3.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":44,"index":44}}],"key":"hVqIgOgXAH1+S7mu7qk6LJzdVc8=","exportNames":["*"]}},{"name":"@solana/codecs","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":45},"end":{"line":2,"column":155,"index":200}}],"key":"cGkvP9GicDZUKva2Wrw0YsQbmkE=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.TOKEN_METADATA_DISCRIMINATOR = void 0;\n  exports.pack = pack;\n  exports.unpack = unpack;\n  var _web = require(_dependencyMap[0], \"@solana/web3.js\");\n  var _codecs = require(_dependencyMap[1], \"@solana/codecs\");\n  const TOKEN_METADATA_DISCRIMINATOR = exports.TOKEN_METADATA_DISCRIMINATOR = Buffer.from([112, 132, 90, 90, 11, 88, 157, 87]);\n  function getStringCodec() {\n    return (0, _codecs.addCodecSizePrefix)((0, _codecs.getUtf8Codec)(), (0, _codecs.getU32Codec)());\n  }\n  const tokenMetadataCodec = (0, _codecs.getStructCodec)([['updateAuthority', (0, _codecs.fixCodecSize)((0, _codecs.getBytesCodec)(), 32)], ['mint', (0, _codecs.fixCodecSize)((0, _codecs.getBytesCodec)(), 32)], ['name', getStringCodec()], ['symbol', getStringCodec()], ['uri', getStringCodec()], ['additionalMetadata', (0, _codecs.getArrayCodec)((0, _codecs.getTupleCodec)([getStringCodec(), getStringCodec()]))]]);\n  // Checks if all elements in the array are 0\n  function isNonePubkey(buffer) {\n    for (let i = 0; i < buffer.length; i++) {\n      if (buffer[i] !== 0) {\n        return false;\n      }\n    }\n    return true;\n  }\n  // Pack TokenMetadata into byte slab\n  function pack(meta) {\n    // If no updateAuthority given, set it to the None/Zero PublicKey for encoding\n    const updateAuthority = meta.updateAuthority ?? _web.PublicKey.default;\n    return tokenMetadataCodec.encode({\n      ...meta,\n      updateAuthority: updateAuthority.toBuffer(),\n      mint: meta.mint.toBuffer()\n    });\n  }\n  // unpack byte slab into TokenMetadata\n  function unpack(buffer) {\n    const data = tokenMetadataCodec.decode(buffer);\n    return isNonePubkey(data.updateAuthority) ? {\n      mint: new _web.PublicKey(data.mint),\n      name: data.name,\n      symbol: data.symbol,\n      uri: data.uri,\n      additionalMetadata: data.additionalMetadata\n    } : {\n      updateAuthority: new _web.PublicKey(data.updateAuthority),\n      mint: new _web.PublicKey(data.mint),\n      name: data.name,\n      symbol: data.symbol,\n      uri: data.uri,\n      additionalMetadata: data.additionalMetadata\n    };\n  }\n});","lineCount":52,"map":[[8,2,1,0],[8,6,1,0,"_web"],[8,10,1,0],[8,13,1,0,"require"],[8,20,1,0],[8,21,1,0,"_dependencyMap"],[8,35,1,0],[9,2,2,0],[9,6,2,0,"_codecs"],[9,13,2,0],[9,16,2,0,"require"],[9,23,2,0],[9,24,2,0,"_dependencyMap"],[9,38,2,0],[10,2,3,7],[10,8,3,13,"TOKEN_METADATA_DISCRIMINATOR"],[10,36,3,41],[10,39,3,41,"exports"],[10,46,3,41],[10,47,3,41,"TOKEN_METADATA_DISCRIMINATOR"],[10,75,3,41],[10,78,3,44,"Buffer"],[10,84,3,50],[10,85,3,51,"from"],[10,89,3,55],[10,90,3,56],[10,91,3,57],[10,94,3,60],[10,96,3,62],[10,99,3,65],[10,101,3,67],[10,103,3,69],[10,105,3,71],[10,107,3,73],[10,109,3,75],[10,111,3,77],[10,113,3,79],[10,115,3,81],[10,117,3,83],[10,120,3,86],[10,122,3,88],[10,124,3,90],[10,125,3,91],[10,126,3,92],[11,2,4,0],[11,11,4,9,"getStringCodec"],[11,25,4,23,"getStringCodec"],[11,26,4,23],[11,28,4,26],[12,4,5,4],[12,11,5,11],[12,15,5,11,"addCodecSizePrefix"],[12,41,5,29],[12,43,5,30],[12,47,5,30,"getUtf8Codec"],[12,67,5,42],[12,69,5,43],[12,70,5,44],[12,72,5,46],[12,76,5,46,"getU32Codec"],[12,95,5,57],[12,97,5,58],[12,98,5,59],[12,99,5,60],[13,2,6,0],[14,2,7,0],[14,8,7,6,"tokenMetadataCodec"],[14,26,7,24],[14,29,7,27],[14,33,7,27,"getStructCodec"],[14,55,7,41],[14,57,7,42],[14,58,8,4],[14,59,8,5],[14,76,8,22],[14,78,8,24],[14,82,8,24,"fixCodecSize"],[14,102,8,36],[14,104,8,37],[14,108,8,37,"getBytesCodec"],[14,129,8,50],[14,131,8,51],[14,132,8,52],[14,134,8,54],[14,136,8,56],[14,137,8,57],[14,138,8,58],[14,140,9,4],[14,141,9,5],[14,147,9,11],[14,149,9,13],[14,153,9,13,"fixCodecSize"],[14,173,9,25],[14,175,9,26],[14,179,9,26,"getBytesCodec"],[14,200,9,39],[14,202,9,40],[14,203,9,41],[14,205,9,43],[14,207,9,45],[14,208,9,46],[14,209,9,47],[14,211,10,4],[14,212,10,5],[14,218,10,11],[14,220,10,13,"getStringCodec"],[14,234,10,27],[14,235,10,28],[14,236,10,29],[14,237,10,30],[14,239,11,4],[14,240,11,5],[14,248,11,13],[14,250,11,15,"getStringCodec"],[14,264,11,29],[14,265,11,30],[14,266,11,31],[14,267,11,32],[14,269,12,4],[14,270,12,5],[14,275,12,10],[14,277,12,12,"getStringCodec"],[14,291,12,26],[14,292,12,27],[14,293,12,28],[14,294,12,29],[14,296,13,4],[14,297,13,5],[14,317,13,25],[14,319,13,27],[14,323,13,27,"getArrayCodec"],[14,344,13,40],[14,346,13,41],[14,350,13,41,"getTupleCodec"],[14,371,13,54],[14,373,13,55],[14,374,13,56,"getStringCodec"],[14,388,13,70],[14,389,13,71],[14,390,13,72],[14,392,13,74,"getStringCodec"],[14,406,13,88],[14,407,13,89],[14,408,13,90],[14,409,13,91],[14,410,13,92],[14,411,13,93],[14,412,13,94],[14,413,14,1],[14,414,14,2],[15,2,15,0],[16,2,16,0],[16,11,16,9,"isNonePubkey"],[16,23,16,21,"isNonePubkey"],[16,24,16,22,"buffer"],[16,30,16,28],[16,32,16,30],[17,4,17,4],[17,9,17,9],[17,13,17,13,"i"],[17,14,17,14],[17,17,17,17],[17,18,17,18],[17,20,17,20,"i"],[17,21,17,21],[17,24,17,24,"buffer"],[17,30,17,30],[17,31,17,31,"length"],[17,37,17,37],[17,39,17,39,"i"],[17,40,17,40],[17,42,17,42],[17,44,17,44],[18,6,18,8],[18,10,18,12,"buffer"],[18,16,18,18],[18,17,18,19,"i"],[18,18,18,20],[18,19,18,21],[18,24,18,26],[18,25,18,27],[18,27,18,29],[19,8,19,12],[19,15,19,19],[19,20,19,24],[20,6,20,8],[21,4,21,4],[22,4,22,4],[22,11,22,11],[22,15,22,15],[23,2,23,0],[24,2,24,0],[25,2,25,7],[25,11,25,16,"pack"],[25,15,25,20,"pack"],[25,16,25,21,"meta"],[25,20,25,25],[25,22,25,27],[26,4,26,4],[27,4,27,4],[27,10,27,10,"updateAuthority"],[27,25,27,25],[27,28,27,28,"meta"],[27,32,27,32],[27,33,27,33,"updateAuthority"],[27,48,27,48],[27,52,27,52,"PublicKey"],[27,66,27,61],[27,67,27,62,"default"],[27,74,27,69],[28,4,28,4],[28,11,28,11,"tokenMetadataCodec"],[28,29,28,29],[28,30,28,30,"encode"],[28,36,28,36],[28,37,28,37],[29,6,29,8],[29,9,29,11,"meta"],[29,13,29,15],[30,6,30,8,"updateAuthority"],[30,21,30,23],[30,23,30,25,"updateAuthority"],[30,38,30,40],[30,39,30,41,"toBuffer"],[30,47,30,49],[30,48,30,50],[30,49,30,51],[31,6,31,8,"mint"],[31,10,31,12],[31,12,31,14,"meta"],[31,16,31,18],[31,17,31,19,"mint"],[31,21,31,23],[31,22,31,24,"toBuffer"],[31,30,31,32],[31,31,31,33],[32,4,32,4],[32,5,32,5],[32,6,32,6],[33,2,33,0],[34,2,34,0],[35,2,35,7],[35,11,35,16,"unpack"],[35,17,35,22,"unpack"],[35,18,35,23,"buffer"],[35,24,35,29],[35,26,35,31],[36,4,36,4],[36,10,36,10,"data"],[36,14,36,14],[36,17,36,17,"tokenMetadataCodec"],[36,35,36,35],[36,36,36,36,"decode"],[36,42,36,42],[36,43,36,43,"buffer"],[36,49,36,49],[36,50,36,50],[37,4,37,4],[37,11,37,11,"isNonePubkey"],[37,23,37,23],[37,24,37,24,"data"],[37,28,37,28],[37,29,37,29,"updateAuthority"],[37,44,37,44],[37,45,37,45],[37,48,38,10],[38,6,39,12,"mint"],[38,10,39,16],[38,12,39,18],[38,16,39,22,"PublicKey"],[38,30,39,31],[38,31,39,32,"data"],[38,35,39,36],[38,36,39,37,"mint"],[38,40,39,41],[38,41,39,42],[39,6,40,12,"name"],[39,10,40,16],[39,12,40,18,"data"],[39,16,40,22],[39,17,40,23,"name"],[39,21,40,27],[40,6,41,12,"symbol"],[40,12,41,18],[40,14,41,20,"data"],[40,18,41,24],[40,19,41,25,"symbol"],[40,25,41,31],[41,6,42,12,"uri"],[41,9,42,15],[41,11,42,17,"data"],[41,15,42,21],[41,16,42,22,"uri"],[41,19,42,25],[42,6,43,12,"additionalMetadata"],[42,24,43,30],[42,26,43,32,"data"],[42,30,43,36],[42,31,43,37,"additionalMetadata"],[43,4,44,8],[43,5,44,9],[43,8,45,10],[44,6,46,12,"updateAuthority"],[44,21,46,27],[44,23,46,29],[44,27,46,33,"PublicKey"],[44,41,46,42],[44,42,46,43,"data"],[44,46,46,47],[44,47,46,48,"updateAuthority"],[44,62,46,63],[44,63,46,64],[45,6,47,12,"mint"],[45,10,47,16],[45,12,47,18],[45,16,47,22,"PublicKey"],[45,30,47,31],[45,31,47,32,"data"],[45,35,47,36],[45,36,47,37,"mint"],[45,40,47,41],[45,41,47,42],[46,6,48,12,"name"],[46,10,48,16],[46,12,48,18,"data"],[46,16,48,22],[46,17,48,23,"name"],[46,21,48,27],[47,6,49,12,"symbol"],[47,12,49,18],[47,14,49,20,"data"],[47,18,49,24],[47,19,49,25,"symbol"],[47,25,49,31],[48,6,50,12,"uri"],[48,9,50,15],[48,11,50,17,"data"],[48,15,50,21],[48,16,50,22,"uri"],[48,19,50,25],[49,6,51,12,"additionalMetadata"],[49,24,51,30],[49,26,51,32,"data"],[49,30,51,36],[49,31,51,37,"additionalMetadata"],[50,4,52,8],[50,5,52,9],[51,2,53,0],[52,0,53,1],[52,3]],"functionMap":{"names":["<global>","getStringCodec","isNonePubkey","pack","unpack"],"mappings":"AAA;ACG;CDE;AEU;CFO;OGE;CHQ;OIE;CJkB"}},"type":"js/module"}]}