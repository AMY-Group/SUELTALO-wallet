{"dependencies":[{"name":"@solana/web3.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":97,"index":97}}],"key":"hVqIgOgXAH1+S7mu7qk6LJzdVc8=","exportNames":["*"]}},{"name":"../../actions/internal.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":98},"end":{"line":2,"column":55,"index":153}}],"key":"NZfIk1TkYePfdrID7eibfh4eb4I=","exportNames":["*"]}},{"name":"../../constants.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":154},"end":{"line":3,"column":59,"index":213}}],"key":"0LIA5DrINmAZiA+WxylNrkCajGU=","exportNames":["*"]}},{"name":"../../instructions/initializeMint.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":214},"end":{"line":4,"column":87,"index":301}}],"key":"gSmOz4I7inKVfI1Gf6Hb9HN2OwQ=","exportNames":["*"]}},{"name":"../extensionType.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":302},"end":{"line":5,"column":64,"index":366}}],"key":"9B9SsrL0iX24r6c12s5npw5ZP78=","exportNames":["*"]}},{"name":"./instructions.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":367},"end":{"line":6,"column":132,"index":499}}],"key":"Fxi0HOb3XwlWafScFYPpLit1DEQ=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.createInterestBearingMint = createInterestBearingMint;\n  exports.updateRateInterestBearingMint = updateRateInterestBearingMint;\n  var _web = require(_dependencyMap[0], \"@solana/web3.js\");\n  var _internal = require(_dependencyMap[1], \"../../actions/internal.js\");\n  var _constants = require(_dependencyMap[2], \"../../constants.js\");\n  var _initializeMint = require(_dependencyMap[3], \"../../instructions/initializeMint.js\");\n  var _extensionType = require(_dependencyMap[4], \"../extensionType.js\");\n  var _instructions = require(_dependencyMap[5], \"./instructions.js\");\n  /**\n   * Initialize an interest bearing account on a mint\n   *\n   * @param connection      Connection to use\n   * @param payer           Payer of the transaction fees\n   * @param mintAuthority   Account or multisig that will control minting\n   * @param freezeAuthority Optional account or multisig that can freeze token accounts\n   * @param rateAuthority   The public key for the account that can update the rate\n   * @param rate            The initial interest rate\n   * @param decimals        Location of the decimal place\n   * @param keypair         Optional keypair, defaulting to a new random one\n   * @param confirmOptions  Options for confirming the transaction\n   * @param programId       SPL Token program account\n   *\n   * @return Public key of the mint\n   */\n  async function createInterestBearingMint(connection, payer, mintAuthority, freezeAuthority, rateAuthority, rate, decimals, keypair = _web.Keypair.generate(), confirmOptions, programId = _constants.TOKEN_2022_PROGRAM_ID) {\n    const mintLen = (0, _extensionType.getMintLen)([_extensionType.ExtensionType.InterestBearingConfig]);\n    const lamports = await connection.getMinimumBalanceForRentExemption(mintLen);\n    const transaction = new _web.Transaction().add(_web.SystemProgram.createAccount({\n      fromPubkey: payer.publicKey,\n      newAccountPubkey: keypair.publicKey,\n      space: mintLen,\n      lamports,\n      programId\n    }), (0, _instructions.createInitializeInterestBearingMintInstruction)(keypair.publicKey, rateAuthority, rate, programId), (0, _initializeMint.createInitializeMintInstruction)(keypair.publicKey, decimals, mintAuthority, freezeAuthority, programId));\n    await (0, _web.sendAndConfirmTransaction)(connection, transaction, [payer, keypair], confirmOptions);\n    return keypair.publicKey;\n  }\n  /**\n   * Update the interest rate of an interest bearing account\n   *\n   * @param connection      Connection to use\n   * @param payer           Payer of the transaction fees\n   * @param mint            Public key of the mint\n   * @param rateAuthority   The public key for the account that can update the rate\n   * @param rate            The initial interest rate\n   * @param multiSigners    Signing accounts if `owner` is a multisig\n   * @param confirmOptions  Options for confirming the transaction\n   * @param programId       SPL Token program account\n   *\n   * @return Signature of the confirmed transaction\n   */\n  async function updateRateInterestBearingMint(connection, payer, mint, rateAuthority, rate, multiSigners = [], confirmOptions, programId = _constants.TOKEN_2022_PROGRAM_ID) {\n    const [rateAuthorityPublicKey, signers] = (0, _internal.getSigners)(rateAuthority, multiSigners);\n    const transaction = new _web.Transaction().add((0, _instructions.createUpdateRateInterestBearingMintInstruction)(mint, rateAuthorityPublicKey, rate, signers, programId));\n    return await (0, _web.sendAndConfirmTransaction)(connection, transaction, [payer, rateAuthority, ...signers], confirmOptions);\n  }\n});","lineCount":61,"map":[[7,2,1,0],[7,6,1,0,"_web"],[7,10,1,0],[7,13,1,0,"require"],[7,20,1,0],[7,21,1,0,"_dependencyMap"],[7,35,1,0],[8,2,2,0],[8,6,2,0,"_internal"],[8,15,2,0],[8,18,2,0,"require"],[8,25,2,0],[8,26,2,0,"_dependencyMap"],[8,40,2,0],[9,2,3,0],[9,6,3,0,"_constants"],[9,16,3,0],[9,19,3,0,"require"],[9,26,3,0],[9,27,3,0,"_dependencyMap"],[9,41,3,0],[10,2,4,0],[10,6,4,0,"_initializeMint"],[10,21,4,0],[10,24,4,0,"require"],[10,31,4,0],[10,32,4,0,"_dependencyMap"],[10,46,4,0],[11,2,5,0],[11,6,5,0,"_extensionType"],[11,20,5,0],[11,23,5,0,"require"],[11,30,5,0],[11,31,5,0,"_dependencyMap"],[11,45,5,0],[12,2,6,0],[12,6,6,0,"_instructions"],[12,19,6,0],[12,22,6,0,"require"],[12,29,6,0],[12,30,6,0,"_dependencyMap"],[12,44,6,0],[13,2,7,0],[14,0,8,0],[15,0,9,0],[16,0,10,0],[17,0,11,0],[18,0,12,0],[19,0,13,0],[20,0,14,0],[21,0,15,0],[22,0,16,0],[23,0,17,0],[24,0,18,0],[25,0,19,0],[26,0,20,0],[27,0,21,0],[28,0,22,0],[29,2,23,7],[29,17,23,22,"createInterestBearingMint"],[29,42,23,47,"createInterestBearingMint"],[29,43,23,48,"connection"],[29,53,23,58],[29,55,23,60,"payer"],[29,60,23,65],[29,62,23,67,"mintAuthority"],[29,75,23,80],[29,77,23,82,"freezeAuthority"],[29,92,23,97],[29,94,23,99,"rateAuthority"],[29,107,23,112],[29,109,23,114,"rate"],[29,113,23,118],[29,115,23,120,"decimals"],[29,123,23,128],[29,125,23,130,"keypair"],[29,132,23,137],[29,135,23,140,"Keypair"],[29,147,23,147],[29,148,23,148,"generate"],[29,156,23,156],[29,157,23,157],[29,158,23,158],[29,160,23,160,"confirmOptions"],[29,174,23,174],[29,176,23,176,"programId"],[29,185,23,185],[29,188,23,188,"TOKEN_2022_PROGRAM_ID"],[29,220,23,209],[29,222,23,211],[30,4,24,4],[30,10,24,10,"mintLen"],[30,17,24,17],[30,20,24,20],[30,24,24,20,"getMintLen"],[30,49,24,30],[30,51,24,31],[30,52,24,32,"ExtensionType"],[30,80,24,45],[30,81,24,46,"InterestBearingConfig"],[30,102,24,67],[30,103,24,68],[30,104,24,69],[31,4,25,4],[31,10,25,10,"lamports"],[31,18,25,18],[31,21,25,21],[31,27,25,27,"connection"],[31,37,25,37],[31,38,25,38,"getMinimumBalanceForRentExemption"],[31,71,25,71],[31,72,25,72,"mintLen"],[31,79,25,79],[31,80,25,80],[32,4,26,4],[32,10,26,10,"transaction"],[32,21,26,21],[32,24,26,24],[32,28,26,28,"Transaction"],[32,44,26,39],[32,45,26,40],[32,46,26,41],[32,47,26,42,"add"],[32,50,26,45],[32,51,26,46,"SystemProgram"],[32,69,26,59],[32,70,26,60,"createAccount"],[32,83,26,73],[32,84,26,74],[33,6,27,8,"fromPubkey"],[33,16,27,18],[33,18,27,20,"payer"],[33,23,27,25],[33,24,27,26,"publicKey"],[33,33,27,35],[34,6,28,8,"newAccountPubkey"],[34,22,28,24],[34,24,28,26,"keypair"],[34,31,28,33],[34,32,28,34,"publicKey"],[34,41,28,43],[35,6,29,8,"space"],[35,11,29,13],[35,13,29,15,"mintLen"],[35,20,29,22],[36,6,30,8,"lamports"],[36,14,30,16],[37,6,31,8,"programId"],[38,4,32,4],[38,5,32,5],[38,6,32,6],[38,8,32,8],[38,12,32,8,"createInitializeInterestBearingMintInstruction"],[38,72,32,54],[38,74,32,55,"keypair"],[38,81,32,62],[38,82,32,63,"publicKey"],[38,91,32,72],[38,93,32,74,"rateAuthority"],[38,106,32,87],[38,108,32,89,"rate"],[38,112,32,93],[38,114,32,95,"programId"],[38,123,32,104],[38,124,32,105],[38,126,32,107],[38,130,32,107,"createInitializeMintInstruction"],[38,177,32,138],[38,179,32,139,"keypair"],[38,186,32,146],[38,187,32,147,"publicKey"],[38,196,32,156],[38,198,32,158,"decimals"],[38,206,32,166],[38,208,32,168,"mintAuthority"],[38,221,32,181],[38,223,32,183,"freezeAuthority"],[38,238,32,198],[38,240,32,200,"programId"],[38,249,32,209],[38,250,32,210],[38,251,32,211],[39,4,33,4],[39,10,33,10],[39,14,33,10,"sendAndConfirmTransaction"],[39,44,33,35],[39,46,33,36,"connection"],[39,56,33,46],[39,58,33,48,"transaction"],[39,69,33,59],[39,71,33,61],[39,72,33,62,"payer"],[39,77,33,67],[39,79,33,69,"keypair"],[39,86,33,76],[39,87,33,77],[39,89,33,79,"confirmOptions"],[39,103,33,93],[39,104,33,94],[40,4,34,4],[40,11,34,11,"keypair"],[40,18,34,18],[40,19,34,19,"publicKey"],[40,28,34,28],[41,2,35,0],[42,2,36,0],[43,0,37,0],[44,0,38,0],[45,0,39,0],[46,0,40,0],[47,0,41,0],[48,0,42,0],[49,0,43,0],[50,0,44,0],[51,0,45,0],[52,0,46,0],[53,0,47,0],[54,0,48,0],[55,0,49,0],[56,2,50,7],[56,17,50,22,"updateRateInterestBearingMint"],[56,46,50,51,"updateRateInterestBearingMint"],[56,47,50,52,"connection"],[56,57,50,62],[56,59,50,64,"payer"],[56,64,50,69],[56,66,50,71,"mint"],[56,70,50,75],[56,72,50,77,"rateAuthority"],[56,85,50,90],[56,87,50,92,"rate"],[56,91,50,96],[56,93,50,98,"multiSigners"],[56,105,50,110],[56,108,50,113],[56,110,50,115],[56,112,50,117,"confirmOptions"],[56,126,50,131],[56,128,50,133,"programId"],[56,137,50,142],[56,140,50,145,"TOKEN_2022_PROGRAM_ID"],[56,172,50,166],[56,174,50,168],[57,4,51,4],[57,10,51,10],[57,11,51,11,"rateAuthorityPublicKey"],[57,33,51,33],[57,35,51,35,"signers"],[57,42,51,42],[57,43,51,43],[57,46,51,46],[57,50,51,46,"getSigners"],[57,70,51,56],[57,72,51,57,"rateAuthority"],[57,85,51,70],[57,87,51,72,"multiSigners"],[57,99,51,84],[57,100,51,85],[58,4,52,4],[58,10,52,10,"transaction"],[58,21,52,21],[58,24,52,24],[58,28,52,28,"Transaction"],[58,44,52,39],[58,45,52,40],[58,46,52,41],[58,47,52,42,"add"],[58,50,52,45],[58,51,52,46],[58,55,52,46,"createUpdateRateInterestBearingMintInstruction"],[58,115,52,92],[58,117,52,93,"mint"],[58,121,52,97],[58,123,52,99,"rateAuthorityPublicKey"],[58,145,52,121],[58,147,52,123,"rate"],[58,151,52,127],[58,153,52,129,"signers"],[58,160,52,136],[58,162,52,138,"programId"],[58,171,52,147],[58,172,52,148],[58,173,52,149],[59,4,53,4],[59,11,53,11],[59,17,53,17],[59,21,53,17,"sendAndConfirmTransaction"],[59,51,53,42],[59,53,53,43,"connection"],[59,63,53,53],[59,65,53,55,"transaction"],[59,76,53,66],[59,78,53,68],[59,79,53,69,"payer"],[59,84,53,74],[59,86,53,76,"rateAuthority"],[59,99,53,89],[59,101,53,91],[59,104,53,94,"signers"],[59,111,53,101],[59,112,53,102],[59,114,53,104,"confirmOptions"],[59,128,53,118],[59,129,53,119],[60,2,54,0],[61,0,54,1],[61,3]],"functionMap":{"names":["<global>","createInterestBearingMint","updateRateInterestBearingMint"],"mappings":"AAA;OCsB;CDY;OEe;CFI"}},"type":"js/module"}]}