{"dependencies":[],"output":[{"data":{"code":"__d(function(g,r,_i,a,m,e,d){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t=3,n=3,s=40,l=10;function o(t,n,s){switch(t){case e.Patterns.PATTERN000:return(n+s)%2==0;case e.Patterns.PATTERN001:return n%2==0;case e.Patterns.PATTERN010:return s%3==0;case e.Patterns.PATTERN011:return(n+s)%3==0;case e.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(s/3))%2==0;case e.Patterns.PATTERN101:return n*s%2+n*s%3==0;case e.Patterns.PATTERN110:return(n*s%2+n*s%3)%2==0;case e.Patterns.PATTERN111:return(n*s%3+(n+s)%2)%2==0;default:throw new Error('bad maskPattern:'+t)}}e.isValid=function(t){return null!=t&&''!==t&&!isNaN(t)&&t>=0&&t<=7},e.from=function(t){return e.isValid(t)?parseInt(t,10):void 0},e.getPenaltyN1=function(n){const s=n.size;let l=0,o=0,P=0,T=null,c=null;for(let u=0;u<s;u++){o=P=0,T=c=null;for(let N=0;N<s;N++){let s=n.get(u,N);s===T?o++:(o>=5&&(l+=t+(o-5)),T=s,o=1),s=n.get(N,u),s===c?P++:(P>=5&&(l+=t+(P-5)),c=s,P=1)}o>=5&&(l+=t+(o-5)),P>=5&&(l+=t+(P-5))}return l},e.getPenaltyN2=function(t){const s=t.size;let l=0;for(let n=0;n<s-1;n++)for(let o=0;o<s-1;o++){const s=t.get(n,o)+t.get(n,o+1)+t.get(n+1,o)+t.get(n+1,o+1);4!==s&&0!==s||l++}return l*n},e.getPenaltyN3=function(t){const n=t.size;let l=0,o=0,P=0;for(let s=0;s<n;s++){o=P=0;for(let T=0;T<n;T++)o=o<<1&2047|t.get(s,T),T>=10&&(1488===o||93===o)&&l++,P=P<<1&2047|t.get(T,s),T>=10&&(1488===P||93===P)&&l++}return l*s},e.getPenaltyN4=function(t){let n=0;const s=t.data.length;for(let l=0;l<s;l++)n+=t.data[l];return Math.abs(Math.ceil(100*n/s/5)-10)*l},e.applyMask=function(t,n){const s=n.size;for(let l=0;l<s;l++)for(let P=0;P<s;P++)n.isReserved(P,l)||n.xor(P,l,o(t,P,l))},e.getBestMask=function(t,n){const s=Object.keys(e.Patterns).length;let l=0,o=1/0;for(let P=0;P<s;P++){n(P),e.applyMask(P,t);const s=e.getPenaltyN1(t)+e.getPenaltyN2(t)+e.getPenaltyN3(t)+e.getPenaltyN4(t);e.applyMask(P,t),s<o&&(o=s,l=P)}return l}});","lineCount":1,"map":[[1,29,5,0,"exports"],[1,31,5,8,"Patterns"],[1,40,5,19],[1,41,6,2,"PATTERN000"],[1,52,6,14],[1,54,7,2,"PATTERN001"],[1,65,7,14],[1,67,8,2,"PATTERN010"],[1,78,8,14],[1,80,9,2,"PATTERN011"],[1,91,9,14],[1,93,10,2,"PATTERN100"],[1,104,10,14],[1,106,11,2,"PATTERN101"],[1,117,11,14],[1,119,12,2,"PATTERN110"],[1,130,12,14],[1,132,13,2,"PATTERN111"],[1,143,13,14],[1,146,20,0],[1,152,20,6,"PenaltyScores"],[1,154,21,6],[1,156,20,6,"PenaltyScores"],[1,158,22,6],[1,160,20,6,"PenaltyScores"],[1,162,23,6],[1,165,20,6,"PenaltyScores"],[1,167,24,6],[1,170,170,0],[1,179,170,9,"getMaskAt"],[1,181,170,20,"maskPattern"],[1,183,170,33,"i"],[1,185,170,36,"j"],[1,188,171,2],[1,195,171,10,"maskPattern"],[1,198,172,4],[1,203,172,9,"exports"],[1,205,172,17,"Patterns"],[1,214,172,26,"PATTERN000"],[1,225,172,38],[1,232,172,46,"i"],[1,234,172,50,"j"],[1,237,172,55],[1,240,172,61],[1,242,173,4],[1,247,173,9,"exports"],[1,249,173,17,"Patterns"],[1,258,173,26,"PATTERN001"],[1,269,173,38],[1,276,173,45,"i"],[1,278,173,49],[1,281,173,55],[1,283,174,4],[1,288,174,9,"exports"],[1,290,174,17,"Patterns"],[1,299,174,26,"PATTERN010"],[1,310,174,38],[1,317,174,45,"j"],[1,319,174,49],[1,322,174,55],[1,324,175,4],[1,329,175,9,"exports"],[1,331,175,17,"Patterns"],[1,340,175,26,"PATTERN011"],[1,351,175,38],[1,358,175,46,"i"],[1,360,175,50,"j"],[1,363,175,55],[1,366,175,61],[1,368,176,4],[1,373,176,9,"exports"],[1,375,176,17,"Patterns"],[1,384,176,26,"PATTERN100"],[1,395,176,38],[1,402,176,46,"Math"],[1,407,176,51,"floor"],[1,413,176,57,"i"],[1,415,176,61],[1,418,176,66,"Math"],[1,423,176,71,"floor"],[1,429,176,77,"j"],[1,431,176,81],[1,435,176,87],[1,438,176,93],[1,440,177,4],[1,445,177,9,"exports"],[1,447,177,17,"Patterns"],[1,456,177,26,"PATTERN101"],[1,467,177,38],[1,474,177,46,"i"],[1,476,177,50,"j"],[1,478,177,55],[1,480,177,60,"i"],[1,482,177,64,"j"],[1,484,177,69],[1,487,177,75],[1,489,178,4],[1,494,178,9,"exports"],[1,496,178,17,"Patterns"],[1,505,178,26,"PATTERN110"],[1,516,178,38],[1,523,178,47,"i"],[1,525,178,51,"j"],[1,527,178,56],[1,529,178,61,"i"],[1,531,178,65,"j"],[1,533,178,70],[1,536,178,75],[1,539,178,81],[1,541,179,4],[1,546,179,9,"exports"],[1,548,179,17,"Patterns"],[1,557,179,26,"PATTERN111"],[1,568,179,38],[1,575,179,47,"i"],[1,577,179,51,"j"],[1,579,179,56],[1,582,179,61,"i"],[1,584,179,65,"j"],[1,587,179,70],[1,590,179,75],[1,593,179,81],[1,595,181,4],[1,603,181,13],[1,609,181,19],[1,613,181,23,"Error"],[1,619,181,29],[1,638,181,50,"maskPattern"],[1,641,183,0],[1,642,33,0,"exports"],[1,644,33,8,"isValid"],[1,652,33,18],[1,661,33,36,"mask"],[1,664,34,2],[1,671,34,17],[1,677,34,9,"mask"],[1,680,34,34],[1,685,34,25,"mask"],[1,689,34,41,"isNaN"],[1,695,34,47,"mask"],[1,699,34,56,"mask"],[1,702,34,64],[1,705,34,69,"mask"],[1,708,34,77],[1,709,35,0],[1,711,44,0,"exports"],[1,713,44,8,"from"],[1,718,44,15],[1,727,44,30,"value"],[1,730,45,2],[1,737,45,9,"exports"],[1,739,45,17,"isValid"],[1,747,45,25,"value"],[1,750,45,34,"parseInt"],[1,759,45,43,"value"],[1,761,45,50],[1,770,45,56,"undefined"],[1,771,46,0],[1,773,55,0,"exports"],[1,775,55,8,"getPenaltyN1"],[1,788,55,23],[1,797,55,46,"data"],[1,800,56,2],[1,806,56,8,"size"],[1,808,56,15,"data"],[1,810,56,20,"size"],[1,815,57,2],[1,819,57,6,"points"],[1,821,57,15],[1,823,58,6,"sameCountCol"],[1,825,58,21],[1,827,59,6,"sameCountRow"],[1,829,59,21],[1,831,60,6,"lastCol"],[1,833,60,16],[1,838,61,6,"lastRow"],[1,840,61,16],[1,845,63,2],[1,849,63,7],[1,853,63,11,"row"],[1,855,63,17],[1,857,63,20,"row"],[1,859,63,26,"size"],[1,861,63,32,"row"],[1,865,63,39],[1,866,64,4,"sameCountCol"],[1,868,64,19,"sameCountRow"],[1,870,64,34],[1,872,65,4,"lastCol"],[1,874,65,14,"lastRow"],[1,876,65,24],[1,881,67,4],[1,885,67,9],[1,889,67,13,"col"],[1,891,67,19],[1,893,67,22,"col"],[1,895,67,28,"size"],[1,897,67,34,"col"],[1,901,67,41],[1,902,68,6],[1,906,68,10,"module"],[1,908,68,19,"data"],[1,910,68,24,"get"],[1,914,68,28,"row"],[1,916,68,33,"col"],[1,919,69,10,"module"],[1,923,69,21,"lastCol"],[1,925,70,8,"sameCountCol"],[1,930,72,12,"sameCountCol"],[1,933,72,28],[1,937,72,31,"points"],[1,940,72,41,"PenaltyScores"],[1,943,72,61,"sameCountCol"],[1,945,72,76],[1,949,73,8,"lastCol"],[1,951,73,18,"module"],[1,953,74,8,"sameCountCol"],[1,955,74,23],[1,958,77,6,"module"],[1,960,77,15,"data"],[1,962,77,20,"get"],[1,966,77,24,"col"],[1,968,77,29,"row"],[1,971,78,10,"module"],[1,975,78,21,"lastRow"],[1,977,79,8,"sameCountRow"],[1,982,81,12,"sameCountRow"],[1,985,81,28],[1,989,81,31,"points"],[1,992,81,41,"PenaltyScores"],[1,995,81,61,"sameCountRow"],[1,997,81,76],[1,1001,82,8,"lastRow"],[1,1003,82,18,"module"],[1,1005,83,8,"sameCountRow"],[1,1007,83,23],[1,1009,85,4],[1,1010,87,8,"sameCountCol"],[1,1013,87,24],[1,1017,87,27,"points"],[1,1020,87,37,"PenaltyScores"],[1,1023,87,57,"sameCountCol"],[1,1025,87,72],[1,1029,88,8,"sameCountRow"],[1,1032,88,24],[1,1036,88,27,"points"],[1,1039,88,37,"PenaltyScores"],[1,1042,88,57,"sameCountRow"],[1,1044,88,72],[1,1047,89,2],[1,1048,91,2],[1,1055,91,9,"points"],[1,1056,92,0],[1,1058,99,0,"exports"],[1,1060,99,8,"getPenaltyN2"],[1,1073,99,23],[1,1082,99,46,"data"],[1,1085,100,2],[1,1091,100,8,"size"],[1,1093,100,15,"data"],[1,1095,100,20,"size"],[1,1100,101,2],[1,1104,101,6,"points"],[1,1106,101,15],[1,1108,103,2],[1,1112,103,7],[1,1116,103,11,"row"],[1,1118,103,17],[1,1120,103,20,"row"],[1,1122,103,26,"size"],[1,1124,103,33],[1,1126,103,36,"row"],[1,1130,104,4],[1,1134,104,9],[1,1138,104,13,"col"],[1,1140,104,19],[1,1142,104,22,"col"],[1,1144,104,28,"size"],[1,1146,104,35],[1,1148,104,38,"col"],[1,1152,104,45],[1,1153,105,6],[1,1159,105,12,"last"],[1,1161,105,19,"data"],[1,1163,105,24,"get"],[1,1167,105,28,"row"],[1,1169,105,33,"col"],[1,1172,106,8,"data"],[1,1174,106,13,"get"],[1,1178,106,17,"row"],[1,1180,106,22,"col"],[1,1182,106,28],[1,1185,107,8,"data"],[1,1187,107,13,"get"],[1,1191,107,17,"row"],[1,1193,107,23],[1,1195,107,26,"col"],[1,1198,108,8,"data"],[1,1200,108,13,"get"],[1,1204,108,17,"row"],[1,1206,108,23],[1,1208,108,26,"col"],[1,1210,108,32],[1,1213,110,19],[1,1217,110,10,"last"],[1,1220,110,33],[1,1224,110,24,"last"],[1,1227,110,36,"points"],[1,1230,111,4],[1,1231,114,2],[1,1238,114,9,"points"],[1,1240,114,18,"PenaltyScores"],[1,1241,115,0],[1,1243,123,0,"exports"],[1,1245,123,8,"getPenaltyN3"],[1,1258,123,23],[1,1267,123,46,"data"],[1,1270,124,2],[1,1276,124,8,"size"],[1,1278,124,15,"data"],[1,1280,124,20,"size"],[1,1285,125,2],[1,1289,125,6,"points"],[1,1291,125,15],[1,1293,126,6,"bitsCol"],[1,1295,126,16],[1,1297,127,6,"bitsRow"],[1,1299,127,16],[1,1301,129,2],[1,1305,129,7],[1,1309,129,11,"row"],[1,1311,129,17],[1,1313,129,20,"row"],[1,1315,129,26,"size"],[1,1317,129,32,"row"],[1,1321,129,39],[1,1322,130,4,"bitsCol"],[1,1324,130,14,"bitsRow"],[1,1326,130,24],[1,1328,131,4],[1,1332,131,9],[1,1336,131,13,"col"],[1,1338,131,19],[1,1340,131,22,"col"],[1,1342,131,28,"size"],[1,1344,131,34,"col"],[1,1348,132,6,"bitsCol"],[1,1350,132,18,"bitsCol"],[1,1353,132,29],[1,1355,132,34],[1,1360,132,43,"data"],[1,1362,132,48,"get"],[1,1366,132,52,"row"],[1,1368,132,57,"col"],[1,1371,133,10,"col"],[1,1374,133,17],[1,1379,133,36],[1,1386,133,24,"bitsCol"],[1,1389,133,57],[1,1394,133,45,"bitsCol"],[1,1398,133,65,"points"],[1,1402,135,6,"bitsRow"],[1,1404,135,18,"bitsRow"],[1,1407,135,29],[1,1409,135,34],[1,1414,135,43,"data"],[1,1416,135,48,"get"],[1,1420,135,52,"col"],[1,1422,135,57,"row"],[1,1425,136,10,"col"],[1,1428,136,17],[1,1433,136,36],[1,1440,136,24,"bitsRow"],[1,1443,136,57],[1,1448,136,45,"bitsRow"],[1,1452,136,65,"points"],[1,1455,138,2],[1,1456,140,2],[1,1463,140,9,"points"],[1,1465,140,18,"PenaltyScores"],[1,1466,141,0],[1,1468,151,0,"exports"],[1,1470,151,8,"getPenaltyN4"],[1,1483,151,23],[1,1492,151,46,"data"],[1,1495,152,2],[1,1499,152,6,"darkCount"],[1,1501,152,18],[1,1503,153,2],[1,1509,153,8,"modulesCount"],[1,1511,153,23,"data"],[1,1513,153,28,"data"],[1,1518,153,33,"length"],[1,1525,155,2],[1,1529,155,7],[1,1533,155,11,"i"],[1,1535,155,15],[1,1537,155,18,"i"],[1,1539,155,22,"modulesCount"],[1,1541,155,36,"i"],[1,1545,155,41,"darkCount"],[1,1548,155,54,"data"],[1,1550,155,59,"data"],[1,1555,155,64,"i"],[1,1558,159,2],[1,1565,157,12,"Math"],[1,1570,157,17,"abs"],[1,1574,157,21,"Math"],[1,1579,157,26,"ceil"],[1,1584,157,44],[1,1588,157,32,"darkCount"],[1,1590,157,50,"modulesCount"],[1,1592,157,66],[1,1595,157,71],[1,1599,159,13,"PenaltyScores"],[1,1600,160,0],[1,1602,191,0,"exports"],[1,1604,191,8,"applyMask"],[1,1614,191,20],[1,1623,191,40,"pattern"],[1,1625,191,49,"data"],[1,1628,192,2],[1,1634,192,8,"size"],[1,1636,192,15,"data"],[1,1638,192,20,"size"],[1,1643,194,2],[1,1647,194,7],[1,1651,194,11,"col"],[1,1653,194,17],[1,1655,194,20,"col"],[1,1657,194,26,"size"],[1,1659,194,32,"col"],[1,1663,195,4],[1,1667,195,9],[1,1671,195,13,"row"],[1,1673,195,19],[1,1675,195,22,"row"],[1,1677,195,28,"size"],[1,1679,195,34,"row"],[1,1683,196,10,"data"],[1,1685,196,15,"isReserved"],[1,1696,196,26,"row"],[1,1698,196,31,"col"],[1,1702,197,6,"data"],[1,1704,197,11,"xor"],[1,1708,197,15,"row"],[1,1710,197,20,"col"],[1,1712,197,25,"getMaskAt"],[1,1714,197,35,"pattern"],[1,1716,197,44,"row"],[1,1718,197,49,"col"],[1,1721,200,0],[1,1723,208,0,"exports"],[1,1725,208,8,"getBestMask"],[1,1737,208,22],[1,1746,208,44,"data"],[1,1748,208,50,"setupFormatFunc"],[1,1751,209,2],[1,1757,209,8,"numPatterns"],[1,1759,209,22,"Object"],[1,1766,209,29,"keys"],[1,1771,209,34,"exports"],[1,1773,209,42,"Patterns"],[1,1783,209,52,"length"],[1,1790,210,2],[1,1794,210,6,"bestPattern"],[1,1796,210,20],[1,1798,211,6,"lowerPenalty"],[1,1800,211,21,"Infinity"],[1,1804,213,2],[1,1808,213,7],[1,1812,213,11,"p"],[1,1814,213,15],[1,1816,213,18,"p"],[1,1818,213,22,"numPatterns"],[1,1820,213,35,"p"],[1,1824,213,40],[1,1825,214,4,"setupFormatFunc"],[1,1827,214,20,"p"],[1,1830,215,4,"exports"],[1,1832,215,12,"applyMask"],[1,1842,215,22,"p"],[1,1844,215,25,"data"],[1,1847,218,4],[1,1853,218,10,"penalty"],[1,1855,219,6,"exports"],[1,1857,219,14,"getPenaltyN1"],[1,1870,219,27,"data"],[1,1873,220,6,"exports"],[1,1875,220,14,"getPenaltyN2"],[1,1888,220,27,"data"],[1,1891,221,6,"exports"],[1,1893,221,14,"getPenaltyN3"],[1,1906,221,27,"data"],[1,1909,222,6,"exports"],[1,1911,222,14,"getPenaltyN4"],[1,1924,222,27,"data"],[1,1927,225,4,"exports"],[1,1929,225,12,"applyMask"],[1,1939,225,22,"p"],[1,1941,225,25,"data"],[1,1944,227,8,"penalty"],[1,1946,227,18,"lowerPenalty"],[1,1950,228,6,"lowerPenalty"],[1,1952,228,21,"penalty"],[1,1954,229,6,"bestPattern"],[1,1956,229,20,"p"],[1,1958,231,2],[1,1959,233,2],[1,1966,233,9,"bestPattern"],[1,1967,234,0],[1,1968,234,1],[1,1971]],"functionMap":{"names":["<global>","isValid","from","getPenaltyN1","getPenaltyN2","getPenaltyN3","getPenaltyN4","getMaskAt","applyMask","getBestMask"],"mappings":"AAA;kBCgC;CDE;eES;CFE;uBGS;CHqC;uBIO;CJgB;uBKQ;CLkB;uBMU;CNS;AOU;CPa;oBQQ;CRS;sBSQ;CT0B"}},"type":"js/module"}]}