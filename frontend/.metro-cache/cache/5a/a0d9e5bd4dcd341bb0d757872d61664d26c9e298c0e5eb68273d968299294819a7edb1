{"dependencies":[{"name":"util","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":3,"column":11,"index":26},"end":{"line":3,"column":26,"index":41}}],"key":"plO20G0zye191TqKMAMeOagk9EI=","exportNames":["*"]}},{"name":"stream","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":4,"column":13,"index":56},"end":{"line":4,"column":30,"index":73}}],"key":"ywjhWBPQUrHXIfwGsbgNg7Szt/A=","exportNames":["*"]}},{"name":"./parser-async","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":5,"column":13,"index":88},"end":{"line":5,"column":38,"index":113}}],"key":"PtpXUOQz2mDaHdUY0KKNhjfwHdI=","exportNames":["*"]}},{"name":"./packer-async","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":6,"column":13,"index":128},"end":{"line":6,"column":38,"index":153}}],"key":"03Po4kc+r3Wi+8AJcb0t6Zs5vzI=","exportNames":["*"]}},{"name":"./png-sync","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":14,"index":169},"end":{"line":7,"column":35,"index":190}}],"key":"VYammuUU6GpmFGokquY7s/FrctI=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function(g,r,_i,a,m,e,d){\"use strict\";let t=r(d[0]),i=r(d[1]),h=r(d[2]),s=r(d[3]),n=r(d[4]),o=e.PNG=function(t){i.call(this),t=t||{},this.width=0|t.width,this.height=0|t.height,this.data=this.width>0&&this.height>0?Buffer.alloc(4*this.width*this.height):null,t.fill&&this.data&&this.data.fill(0),this.gamma=0,this.readable=this.writable=!0,this._parser=new h(t),this._parser.on(\"error\",this.emit.bind(this,\"error\")),this._parser.on(\"close\",this._handleClose.bind(this)),this._parser.on(\"metadata\",this._metadata.bind(this)),this._parser.on(\"gamma\",this._gamma.bind(this)),this._parser.on(\"parsed\",function(t){this.data=t,this.emit(\"parsed\",t)}.bind(this)),this._packer=new s(t),this._packer.on(\"data\",this.emit.bind(this,\"data\")),this._packer.on(\"end\",this.emit.bind(this,\"end\")),this._parser.on(\"close\",this._handleClose.bind(this)),this._packer.on(\"error\",this.emit.bind(this,\"error\"))};t.inherits(o,i),o.sync=n,o.prototype.pack=function(){return this.data&&this.data.length?(process.nextTick(function(){this._packer.pack(this.data,this.width,this.height,this.gamma)}.bind(this)),this):(this.emit(\"error\",\"No data provided\"),this)},o.prototype.parse=function(t,i){if(i){let t,h;t=function(t){this.removeListener(\"error\",h),this.data=t,i(null,this)}.bind(this),h=function(h){this.removeListener(\"parsed\",t),i(h,null)}.bind(this),this.once(\"parsed\",t),this.once(\"error\",h)}return this.end(t),this},o.prototype.write=function(t){return this._parser.write(t),!0},o.prototype.end=function(t){this._parser.end(t)},o.prototype._metadata=function(t){this.width=t.width,this.height=t.height,this.emit(\"metadata\",t)},o.prototype._gamma=function(t){this.gamma=t},o.prototype._handleClose=function(){this._parser.writable||this._packer.readable||this.emit(\"close\")},o.bitblt=function(t,i,h,s,n,o,p,l){if(s|=0,n|=0,o|=0,p|=0,l|=0,(h|=0)>t.width||s>t.height||h+n>t.width||s+o>t.height)throw new Error(\"bitblt reading outside image\");if(p>i.width||l>i.height||p+n>i.width||l+o>i.height)throw new Error(\"bitblt writing outside image\");for(let c=0;c<o;c++)t.data.copy(i.data,(l+c)*i.width+p<<2,(s+c)*t.width+h<<2,(s+c)*t.width+h+n<<2)},o.prototype.bitblt=function(t,i,h,s,n,p,l){return o.bitblt(this,t,i,h,s,n,p,l),this},o.adjustGamma=function(t){if(t.gamma){for(let i=0;i<t.height;i++)for(let h=0;h<t.width;h++){let s=t.width*i+h<<2;for(let i=0;i<3;i++){let h=t.data[s+i]/255;h=Math.pow(h,.45454545454545453/t.gamma),t.data[s+i]=Math.round(255*h)}}t.gamma=0}},o.prototype.adjustGamma=function(){o.adjustGamma(this)}});","lineCount":1,"map":[[1,29,1,0],[1,42,3,0],[1,46,3,4,"util"],[1,48,3,11,"require"],[1,50,3,18,"d"],[1,52,3,18],[1,56,4,4,"Stream"],[1,58,4,13,"require"],[1,60,4,20,"d"],[1,62,4,20],[1,66,5,4,"Parser"],[1,68,5,13,"require"],[1,70,5,20,"d"],[1,72,5,20],[1,76,6,4,"Packer"],[1,78,6,13,"require"],[1,80,6,20,"d"],[1,82,6,20],[1,86,7,4,"PNGSync"],[1,88,7,14,"require"],[1,90,7,21,"d"],[1,92,7,21],[1,96,9,4,"PNG"],[1,98,9,11,"exports"],[1,100,9,19,"PNG"],[1,104,9,25],[1,113,9,35,"options"],[1,116,10,2,"Stream"],[1,118,10,9,"call"],[1,123,10,14,"this"],[1,129,12,2,"options"],[1,131,12,12,"options"],[1,134,12,23],[1,135,12,24],[1,137,15,2,"this"],[1,142,15,7,"width"],[1,148,15,31],[1,150,15,15,"options"],[1,152,15,23,"width"],[1,158,16,2,"this"],[1,163,16,7,"height"],[1,170,16,33],[1,172,16,16,"options"],[1,174,16,24,"height"],[1,181,18,2,"this"],[1,186,18,7,"data"],[1,191,19,4,"this"],[1,196,19,9,"width"],[1,202,19,17],[1,205,19,22,"this"],[1,210,19,27,"height"],[1,217,19,36],[1,219,20,8,"Buffer"],[1,226,20,15,"alloc"],[1,232,20,21],[1,234,20,25,"this"],[1,239,20,30,"width"],[1,245,20,38,"this"],[1,250,20,43,"height"],[1,258,21,8],[1,263,23,6,"options"],[1,265,23,14,"fill"],[1,271,23,22,"this"],[1,276,23,27,"data"],[1,282,24,4,"this"],[1,287,24,9,"data"],[1,292,24,14,"fill"],[1,297,24,19],[1,300,27,2,"this"],[1,305,27,7,"gamma"],[1,311,27,15],[1,313,28,2,"this"],[1,318,28,7,"readable"],[1,327,28,18,"this"],[1,332,28,23,"writable"],[1,342,28,34],[1,344,30,2,"this"],[1,349,30,7,"_parser"],[1,357,30,17],[1,361,30,21,"Parser"],[1,363,30,28,"options"],[1,366,32,2,"this"],[1,371,32,7,"_parser"],[1,379,32,15,"on"],[1,382,32,18],[1,390,32,27,"this"],[1,395,32,32,"emit"],[1,400,32,37,"bind"],[1,405,32,42,"this"],[1,410,32,48],[1,420,33,2,"this"],[1,425,33,7,"_parser"],[1,433,33,15,"on"],[1,436,33,18],[1,444,33,27,"this"],[1,449,33,32,"_handleClose"],[1,462,33,45,"bind"],[1,467,33,50,"this"],[1,474,34,2,"this"],[1,479,34,7,"_parser"],[1,487,34,15,"on"],[1,490,34,18],[1,501,34,30,"this"],[1,506,34,35,"_metadata"],[1,516,34,45,"bind"],[1,521,34,50,"this"],[1,528,35,2,"this"],[1,533,35,7,"_parser"],[1,541,35,15,"on"],[1,544,35,18],[1,552,35,27,"this"],[1,557,35,32,"_gamma"],[1,564,35,39,"bind"],[1,569,35,44,"this"],[1,576,36,2,"this"],[1,581,36,7,"_parser"],[1,589,36,15,"on"],[1,592,37,4],[1,601,38,4],[1,610,38,14,"data"],[1,613,39,6,"this"],[1,618,39,11,"data"],[1,623,39,18,"data"],[1,625,40,6,"this"],[1,630,40,11,"emit"],[1,635,40,16],[1,644,40,26,"data"],[1,646,41,4],[1,648,41,6,"bind"],[1,653,41,11,"this"],[1,660,44,2,"this"],[1,665,44,7,"_packer"],[1,673,44,17],[1,677,44,21,"Packer"],[1,679,44,28,"options"],[1,682,45,2,"this"],[1,687,45,7,"_packer"],[1,695,45,15,"on"],[1,698,45,18],[1,705,45,26,"this"],[1,710,45,31,"emit"],[1,715,45,36,"bind"],[1,720,45,41,"this"],[1,725,45,47],[1,734,46,2,"this"],[1,739,46,7,"_packer"],[1,747,46,15,"on"],[1,750,46,18],[1,756,46,25,"this"],[1,761,46,30,"emit"],[1,766,46,35,"bind"],[1,771,46,40,"this"],[1,776,46,46],[1,784,47,2,"this"],[1,789,47,7,"_parser"],[1,797,47,15,"on"],[1,800,47,18],[1,808,47,27,"this"],[1,813,47,32,"_handleClose"],[1,826,47,45,"bind"],[1,831,47,50,"this"],[1,838,48,2,"this"],[1,843,48,7,"_packer"],[1,851,48,15,"on"],[1,854,48,18],[1,862,48,27,"this"],[1,867,48,32,"emit"],[1,872,48,37,"bind"],[1,877,48,42,"this"],[1,882,48,48],[1,891,49,0],[1,893,50,0,"util"],[1,895,50,5,"inherits"],[1,904,50,14,"PNG"],[1,906,50,19,"Stream"],[1,909,52,0,"PNG"],[1,911,52,4,"sync"],[1,916,52,11,"PNGSync"],[1,918,54,0,"PNG"],[1,920,54,4,"prototype"],[1,930,54,14,"pack"],[1,935,54,21],[1,946,55,2],[1,953,55,7,"this"],[1,958,55,12,"data"],[1,964,55,21,"this"],[1,969,55,26,"data"],[1,974,55,31,"length"],[1,982,60,2,"process"],[1,990,60,10,"nextTick"],[1,999,61,4],[1,1010,62,6,"this"],[1,1015,62,11,"_packer"],[1,1023,62,19,"pack"],[1,1028,62,24,"this"],[1,1033,62,29,"data"],[1,1038,62,35,"this"],[1,1043,62,40,"width"],[1,1049,62,47,"this"],[1,1054,62,52,"height"],[1,1061,62,60,"this"],[1,1066,62,65,"gamma"],[1,1072,63,4],[1,1074,63,6,"bind"],[1,1079,63,11,"this"],[1,1086,66,9,"this"],[1,1093,56,4,"this"],[1,1098,56,9,"emit"],[1,1103,56,14],[1,1111,56,23],[1,1131,57,11,"this"],[1,1136,67,0],[1,1138,69,0,"PNG"],[1,1140,69,4,"prototype"],[1,1150,69,14,"parse"],[1,1156,69,22],[1,1165,69,32,"data"],[1,1167,69,38,"callback"],[1,1170,70,2],[1,1173,70,6,"callback"],[1,1175,70,16],[1,1176,71,4],[1,1180,71,8,"onParsed"],[1,1182,71,18,"onError"],[1,1184,73,4,"onParsed"],[1,1186,73,15],[1,1195,73,25,"parsedData"],[1,1198,74,6,"this"],[1,1203,74,11,"removeListener"],[1,1218,74,26],[1,1226,74,35,"onError"],[1,1229,76,6,"this"],[1,1234,76,11,"data"],[1,1239,76,18,"parsedData"],[1,1241,77,6,"callback"],[1,1243,77,15],[1,1248,77,21,"this"],[1,1253,78,4],[1,1255,78,6,"bind"],[1,1260,78,11,"this"],[1,1266,80,4,"onError"],[1,1268,80,14],[1,1277,80,24,"err"],[1,1280,81,6,"this"],[1,1285,81,11,"removeListener"],[1,1300,81,26],[1,1309,81,36,"onParsed"],[1,1312,83,6,"callback"],[1,1314,83,15,"err"],[1,1316,83,20],[1,1321,84,4],[1,1323,84,6,"bind"],[1,1328,84,11,"this"],[1,1334,86,4,"this"],[1,1339,86,9,"once"],[1,1344,86,14],[1,1353,86,24,"onParsed"],[1,1356,87,4,"this"],[1,1361,87,9,"once"],[1,1366,87,14],[1,1374,87,23,"onError"],[1,1376,88,2],[1,1377,91,2],[1,1384,90,2,"this"],[1,1389,90,7,"end"],[1,1393,90,11,"data"],[1,1396,91,9,"this"],[1,1400,92,0],[1,1402,94,0,"PNG"],[1,1404,94,4,"prototype"],[1,1414,94,14,"write"],[1,1420,94,22],[1,1429,94,32,"data"],[1,1432,96,2],[1,1439,95,2,"this"],[1,1444,95,7,"_parser"],[1,1452,95,15,"write"],[1,1458,95,21,"data"],[1,1462,96,9],[1,1463,97,0],[1,1465,99,0,"PNG"],[1,1467,99,4,"prototype"],[1,1477,99,14,"end"],[1,1481,99,20],[1,1490,99,30,"data"],[1,1493,100,2,"this"],[1,1498,100,7,"_parser"],[1,1506,100,15,"end"],[1,1510,100,19,"data"],[1,1512,101,0],[1,1514,103,0,"PNG"],[1,1516,103,4,"prototype"],[1,1526,103,14,"_metadata"],[1,1536,103,26],[1,1545,103,36,"metadata"],[1,1548,104,2,"this"],[1,1553,104,7,"width"],[1,1559,104,15,"metadata"],[1,1561,104,24,"width"],[1,1567,105,2,"this"],[1,1572,105,7,"height"],[1,1579,105,16,"metadata"],[1,1581,105,25,"height"],[1,1588,107,2,"this"],[1,1593,107,7,"emit"],[1,1598,107,12],[1,1609,107,24,"metadata"],[1,1611,108,0],[1,1613,110,0,"PNG"],[1,1615,110,4,"prototype"],[1,1625,110,14,"_gamma"],[1,1632,110,23],[1,1641,110,33,"gamma"],[1,1644,111,2,"this"],[1,1649,111,7,"gamma"],[1,1655,111,15,"gamma"],[1,1656,112,0],[1,1658,114,0,"PNG"],[1,1660,114,4,"prototype"],[1,1670,114,14,"_handleClose"],[1,1683,114,29],[1,1694,115,7,"this"],[1,1699,115,12,"_parser"],[1,1707,115,20,"writable"],[1,1717,115,33,"this"],[1,1722,115,38,"_packer"],[1,1730,115,46,"readable"],[1,1740,116,4,"this"],[1,1745,116,9,"emit"],[1,1750,116,14],[1,1758,118,0],[1,1760,120,0,"PNG"],[1,1762,120,4,"bitblt"],[1,1769,120,13],[1,1778,120,23,"src"],[1,1780,120,28,"dst"],[1,1782,120,33,"srcX"],[1,1784,120,39,"srcY"],[1,1786,120,45,"width"],[1,1788,120,52,"height"],[1,1790,120,60,"deltaX"],[1,1792,120,68,"deltaY"],[1,1795,132,2],[1,1798,125,2,"srcY"],[1,1801,125,10],[1,1803,126,2,"width"],[1,1806,126,11],[1,1808,127,2,"height"],[1,1811,127,12],[1,1813,128,2,"deltaX"],[1,1816,128,12],[1,1818,129,2,"deltaY"],[1,1821,129,12],[1,1824,124,2,"srcX"],[1,1827,124,10],[1,1830,133,11,"src"],[1,1832,133,15,"width"],[1,1839,134,4,"srcY"],[1,1841,134,11,"src"],[1,1843,134,15,"height"],[1,1851,135,4,"srcX"],[1,1853,135,11,"width"],[1,1855,135,19,"src"],[1,1857,135,23,"width"],[1,1864,136,4,"srcY"],[1,1866,136,11,"height"],[1,1868,136,20,"src"],[1,1870,136,24,"height"],[1,1877,138,4],[1,1883,138,10],[1,1887,138,14,"Error"],[1,1893,138,20],[1,1925,141,2],[1,1928,142,4,"deltaX"],[1,1930,142,13,"dst"],[1,1932,142,17,"width"],[1,1939,143,4,"deltaY"],[1,1941,143,13,"dst"],[1,1943,143,17,"height"],[1,1951,144,4,"deltaX"],[1,1953,144,13,"width"],[1,1955,144,21,"dst"],[1,1957,144,25,"width"],[1,1964,145,4,"deltaY"],[1,1966,145,13,"height"],[1,1968,145,22,"dst"],[1,1970,145,26,"height"],[1,1977,147,4],[1,1983,147,10],[1,1987,147,14,"Error"],[1,1993,147,20],[1,2025,150,2],[1,2029,150,7],[1,2033,150,11,"y"],[1,2035,150,15],[1,2037,150,18,"y"],[1,2039,150,22,"height"],[1,2041,150,30,"y"],[1,2045,151,4,"src"],[1,2047,151,8,"data"],[1,2052,151,13,"copy"],[1,2057,152,6,"dst"],[1,2059,152,10,"data"],[1,2065,153,8,"deltaY"],[1,2067,153,17,"y"],[1,2070,153,22,"dst"],[1,2072,153,26,"width"],[1,2078,153,34,"deltaX"],[1,2081,153,45],[1,2084,154,8,"srcY"],[1,2086,154,15,"y"],[1,2089,154,20,"src"],[1,2091,154,24,"width"],[1,2097,154,32,"srcX"],[1,2100,154,41],[1,2103,155,8,"srcY"],[1,2105,155,15,"y"],[1,2108,155,20,"src"],[1,2110,155,24,"width"],[1,2116,155,32,"srcX"],[1,2118,155,39,"width"],[1,2121,155,49],[1,2123,158,0],[1,2125,160,0,"PNG"],[1,2127,160,4,"prototype"],[1,2137,160,14,"bitblt"],[1,2144,160,23],[1,2153,161,2,"dst"],[1,2155,162,2,"srcX"],[1,2157,163,2,"srcY"],[1,2159,164,2,"width"],[1,2161,165,2,"height"],[1,2163,166,2,"deltaX"],[1,2165,167,2,"deltaY"],[1,2168,172,2],[1,2175,171,2,"PNG"],[1,2177,171,6,"bitblt"],[1,2184,171,13,"this"],[1,2189,171,19,"dst"],[1,2191,171,24,"srcX"],[1,2193,171,30,"srcY"],[1,2195,171,36,"width"],[1,2197,171,43,"height"],[1,2199,171,51,"deltaX"],[1,2201,171,59,"deltaY"],[1,2204,172,9,"this"],[1,2208,173,0],[1,2210,175,0,"PNG"],[1,2212,175,4,"adjustGamma"],[1,2224,175,18],[1,2233,175,28,"src"],[1,2236,176,2],[1,2239,176,6,"src"],[1,2241,176,10,"gamma"],[1,2247,176,17],[1,2248,177,4],[1,2252,177,9],[1,2256,177,13,"y"],[1,2258,177,17],[1,2260,177,20,"y"],[1,2262,177,24,"src"],[1,2264,177,28,"height"],[1,2271,177,36,"y"],[1,2275,178,6],[1,2279,178,11],[1,2283,178,15,"x"],[1,2285,178,19],[1,2287,178,22,"x"],[1,2289,178,26,"src"],[1,2291,178,30,"width"],[1,2297,178,37,"x"],[1,2301,178,42],[1,2302,179,8],[1,2306,179,12,"idx"],[1,2308,179,19,"src"],[1,2310,179,23,"width"],[1,2316,179,31,"y"],[1,2318,179,35,"x"],[1,2321,179,41],[1,2323,181,8],[1,2327,181,13],[1,2331,181,17,"i"],[1,2333,181,21],[1,2335,181,24,"i"],[1,2337,181,28],[1,2339,181,31,"i"],[1,2343,181,36],[1,2344,182,10],[1,2348,182,14,"sample"],[1,2350,182,23,"src"],[1,2352,182,27,"data"],[1,2357,182,32,"idx"],[1,2359,182,38,"i"],[1,2362,182,43],[1,2366,183,10,"sample"],[1,2368,183,19,"Math"],[1,2373,183,24,"pow"],[1,2377,183,28,"sample"],[1,2379,183,36],[1,2398,183,46,"src"],[1,2400,183,50,"gamma"],[1,2407,184,10,"src"],[1,2409,184,14,"data"],[1,2414,184,19,"idx"],[1,2416,184,25,"i"],[1,2419,184,30,"Math"],[1,2424,184,35,"round"],[1,2430,184,50],[1,2434,184,41,"sample"],[1,2436,185,8],[1,2437,186,6],[1,2438,188,4,"src"],[1,2440,188,8,"gamma"],[1,2446,188,16],[1,2447,189,2],[1,2448,190,0],[1,2450,192,0,"PNG"],[1,2452,192,4,"prototype"],[1,2462,192,14,"adjustGamma"],[1,2474,192,28],[1,2485,193,2,"PNG"],[1,2487,193,6,"adjustGamma"],[1,2499,193,18,"this"],[1,2504,194,0],[1,2505,194,2],[1,2508]],"functionMap":{"names":["<global>","exports.PNG","<anonymous>","PNG.prototype.pack","PNG.prototype.parse","PNG.prototype.write","PNG.prototype.end","PNG.prototype._metadata","PNG.prototype._gamma","PNG.prototype._handleClose","PNG.bitblt","PNG.prototype.bitblt","PNG.adjustGamma","PNG.prototype.adjustGamma"],"mappings":"AAA;yBCQ;IC6B;KDG;CDQ;qBGK;IDO;KCE;CHI;sBIE;eFI;KEK;cFE;KEI;CJQ;sBKE;CLG;oBME;CNE;0BOE;CPK;uBQE;CRE;6BSE;CTI;aUE;CVsC;uBWE;CXa;kBYE;CZe;4BaE;CbE"}},"type":"js/module"}]}