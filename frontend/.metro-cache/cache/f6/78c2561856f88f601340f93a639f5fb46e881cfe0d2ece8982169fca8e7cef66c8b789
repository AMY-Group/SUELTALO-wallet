{"dependencies":[{"name":"safe-buffer","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":3,"column":13,"index":28},"end":{"line":3,"column":35,"index":50}}],"key":"JYiVyKV2adrbhzv3Ouecl8p4NAI=","exportNames":["*"]}},{"name":"./precondition","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":5,"column":22,"index":82},"end":{"line":5,"column":47,"index":107}}],"key":"3hHef+Vxail+ofP4apUhxWin99Y=","exportNames":["*"]}},{"name":"./default-encoding","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":6,"column":22,"index":131},"end":{"line":6,"column":51,"index":160}}],"key":"a2IPQ5AzBZHFiGKT3f2/0+RXQxw=","exportNames":["*"]}},{"name":"./sync","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":11,"index":173},"end":{"line":7,"column":28,"index":190}}],"key":"WQmw+uEtg74KnINt+0vRERYDj4o=","exportNames":["*"]}},{"name":"./to-buffer","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":15,"index":207},"end":{"line":8,"column":37,"index":229}}],"key":"A0agEiXN4wdre1ynp9QlfUviZI4=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  var Buffer = require(_dependencyMap[0], \"safe-buffer\").Buffer;\n  var checkParameters = require(_dependencyMap[1], \"./precondition\");\n  var defaultEncoding = require(_dependencyMap[2], \"./default-encoding\");\n  var sync = require(_dependencyMap[3], \"./sync\");\n  var toBuffer = require(_dependencyMap[4], \"./to-buffer\");\n  var ZERO_BUF;\n  var subtle = global.crypto && global.crypto.subtle;\n  var toBrowser = {\n    sha: 'SHA-1',\n    'sha-1': 'SHA-1',\n    sha1: 'SHA-1',\n    sha256: 'SHA-256',\n    'sha-256': 'SHA-256',\n    sha384: 'SHA-384',\n    'sha-384': 'SHA-384',\n    'sha-512': 'SHA-512',\n    sha512: 'SHA-512'\n  };\n  var checks = [];\n  var nextTick;\n  function getNextTick() {\n    if (nextTick) {\n      return nextTick;\n    }\n    if (global.process && global.process.nextTick) {\n      nextTick = global.process.nextTick;\n    } else if (global.queueMicrotask) {\n      nextTick = global.queueMicrotask;\n    } else if (global.setImmediate) {\n      nextTick = global.setImmediate;\n    } else {\n      nextTick = global.setTimeout;\n    }\n    return nextTick;\n  }\n  function browserPbkdf2(password, salt, iterations, length, algo) {\n    return subtle.importKey('raw', password, {\n      name: 'PBKDF2'\n    }, false, ['deriveBits']).then(function (key) {\n      return subtle.deriveBits({\n        name: 'PBKDF2',\n        salt: salt,\n        iterations: iterations,\n        hash: {\n          name: algo\n        }\n      }, key, length << 3);\n    }).then(function (res) {\n      return Buffer.from(res);\n    });\n  }\n  function checkNative(algo) {\n    if (global.process && !global.process.browser) {\n      return Promise.resolve(false);\n    }\n    if (!subtle || !subtle.importKey || !subtle.deriveBits) {\n      return Promise.resolve(false);\n    }\n    if (checks[algo] !== undefined) {\n      return checks[algo];\n    }\n    ZERO_BUF = ZERO_BUF || Buffer.alloc(8);\n    var prom = browserPbkdf2(ZERO_BUF, ZERO_BUF, 10, 128, algo).then(function () {\n      return true;\n    }, function () {\n      return false;\n    });\n    checks[algo] = prom;\n    return prom;\n  }\n  function resolvePromise(promise, callback) {\n    promise.then(function (out) {\n      getNextTick()(function () {\n        callback(null, out);\n      });\n    }, function (e) {\n      getNextTick()(function () {\n        callback(e);\n      });\n    });\n  }\n  module.exports = function (password, salt, iterations, keylen, digest, callback) {\n    if (typeof digest === 'function') {\n      callback = digest;\n      digest = undefined;\n    }\n    digest = digest || 'sha1';\n    var algo = toBrowser[digest.toLowerCase()];\n    if (!algo || typeof global.Promise !== 'function') {\n      getNextTick()(function () {\n        var out;\n        try {\n          out = sync(password, salt, iterations, keylen, digest);\n        } catch (e) {\n          callback(e);\n          return;\n        }\n        callback(null, out);\n      });\n      return;\n    }\n    checkParameters(iterations, keylen);\n    password = toBuffer(password, defaultEncoding, 'Password');\n    salt = toBuffer(salt, defaultEncoding, 'Salt');\n    if (typeof callback !== 'function') {\n      throw new Error('No callback provided to pbkdf2');\n    }\n    resolvePromise(checkNative(algo).then(function (resp) {\n      if (resp) {\n        return browserPbkdf2(password, salt, iterations, keylen, algo);\n      }\n      return sync(password, salt, iterations, keylen, digest);\n    }), callback);\n  };\n});","lineCount":118,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0],[4,6,3,4,"Buffer"],[4,12,3,10],[4,15,3,13,"require"],[4,22,3,20],[4,23,3,20,"_dependencyMap"],[4,37,3,20],[4,55,3,34],[4,56,3,35],[4,57,3,36,"Buffer"],[4,63,3,42],[5,2,5,0],[5,6,5,4,"checkParameters"],[5,21,5,19],[5,24,5,22,"require"],[5,31,5,29],[5,32,5,29,"_dependencyMap"],[5,46,5,29],[5,67,5,46],[5,68,5,47],[6,2,6,0],[6,6,6,4,"defaultEncoding"],[6,21,6,19],[6,24,6,22,"require"],[6,31,6,29],[6,32,6,29,"_dependencyMap"],[6,46,6,29],[6,71,6,50],[6,72,6,51],[7,2,7,0],[7,6,7,4,"sync"],[7,10,7,8],[7,13,7,11,"require"],[7,20,7,18],[7,21,7,18,"_dependencyMap"],[7,35,7,18],[7,48,7,27],[7,49,7,28],[8,2,8,0],[8,6,8,4,"toBuffer"],[8,14,8,12],[8,17,8,15,"require"],[8,24,8,22],[8,25,8,22,"_dependencyMap"],[8,39,8,22],[8,57,8,36],[8,58,8,37],[9,2,10,0],[9,6,10,4,"ZERO_BUF"],[9,14,10,12],[10,2,11,0],[10,6,11,4,"subtle"],[10,12,11,10],[10,15,11,13,"global"],[10,21,11,19],[10,22,11,20,"crypto"],[10,28,11,26],[10,32,11,30,"global"],[10,38,11,36],[10,39,11,37,"crypto"],[10,45,11,43],[10,46,11,44,"subtle"],[10,52,11,50],[11,2,12,0],[11,6,12,4,"toBrowser"],[11,15,12,13],[11,18,12,16],[12,4,13,1,"sha"],[12,7,13,4],[12,9,13,6],[12,16,13,13],[13,4,14,1],[13,11,14,8],[13,13,14,10],[13,20,14,17],[14,4,15,1,"sha1"],[14,8,15,5],[14,10,15,7],[14,17,15,14],[15,4,16,1,"sha256"],[15,10,16,7],[15,12,16,9],[15,21,16,18],[16,4,17,1],[16,13,17,10],[16,15,17,12],[16,24,17,21],[17,4,18,1,"sha384"],[17,10,18,7],[17,12,18,9],[17,21,18,18],[18,4,19,1],[18,13,19,10],[18,15,19,12],[18,24,19,21],[19,4,20,1],[19,13,20,10],[19,15,20,12],[19,24,20,21],[20,4,21,1,"sha512"],[20,10,21,7],[20,12,21,9],[21,2,22,0],[21,3,22,1],[22,2,23,0],[22,6,23,4,"checks"],[22,12,23,10],[22,15,23,13],[22,17,23,15],[23,2,24,0],[23,6,24,4,"nextTick"],[23,14,24,12],[24,2,25,0],[24,11,25,9,"getNextTick"],[24,22,25,20,"getNextTick"],[24,23,25,20],[24,25,25,23],[25,4,26,1],[25,8,26,5,"nextTick"],[25,16,26,13],[25,18,26,15],[26,6,27,2],[26,13,27,9,"nextTick"],[26,21,27,17],[27,4,28,1],[28,4,29,1],[28,8,29,5,"global"],[28,14,29,11],[28,15,29,12,"process"],[28,22,29,19],[28,26,29,23,"global"],[28,32,29,29],[28,33,29,30,"process"],[28,40,29,37],[28,41,29,38,"nextTick"],[28,49,29,46],[28,51,29,48],[29,6,30,2,"nextTick"],[29,14,30,10],[29,17,30,13,"global"],[29,23,30,19],[29,24,30,20,"process"],[29,31,30,27],[29,32,30,28,"nextTick"],[29,40,30,36],[30,4,31,1],[30,5,31,2],[30,11,31,8],[30,15,31,12,"global"],[30,21,31,18],[30,22,31,19,"queueMicrotask"],[30,36,31,33],[30,38,31,35],[31,6,32,2,"nextTick"],[31,14,32,10],[31,17,32,13,"global"],[31,23,32,19],[31,24,32,20,"queueMicrotask"],[31,38,32,34],[32,4,33,1],[32,5,33,2],[32,11,33,8],[32,15,33,12,"global"],[32,21,33,18],[32,22,33,19,"setImmediate"],[32,34,33,31],[32,36,33,33],[33,6,34,2,"nextTick"],[33,14,34,10],[33,17,34,13,"global"],[33,23,34,19],[33,24,34,20,"setImmediate"],[33,36,34,32],[34,4,35,1],[34,5,35,2],[34,11,35,8],[35,6,36,2,"nextTick"],[35,14,36,10],[35,17,36,13,"global"],[35,23,36,19],[35,24,36,20,"setTimeout"],[35,34,36,30],[36,4,37,1],[37,4,38,1],[37,11,38,8,"nextTick"],[37,19,38,16],[38,2,39,0],[39,2,40,0],[39,11,40,9,"browserPbkdf2"],[39,24,40,22,"browserPbkdf2"],[39,25,40,23,"password"],[39,33,40,31],[39,35,40,33,"salt"],[39,39,40,37],[39,41,40,39,"iterations"],[39,51,40,49],[39,53,40,51,"length"],[39,59,40,57],[39,61,40,59,"algo"],[39,65,40,63],[39,67,40,65],[40,4,41,1],[40,11,41,8,"subtle"],[40,17,41,14],[40,18,41,15,"importKey"],[40,27,41,24],[40,28,41,25],[40,33,41,30],[40,35,41,32,"password"],[40,43,41,40],[40,45,41,42],[41,6,41,44,"name"],[41,10,41,48],[41,12,41,50],[42,4,41,59],[42,5,41,60],[42,7,41,62],[42,12,41,67],[42,14,41,69],[42,15,41,70],[42,27,41,82],[42,28,41,83],[42,29,41,84],[42,30,41,85,"then"],[42,34,41,89],[42,35,41,90],[42,45,41,100,"key"],[42,48,41,103],[42,50,41,105],[43,6,42,2],[43,13,42,9,"subtle"],[43,19,42,15],[43,20,42,16,"deriveBits"],[43,30,42,26],[43,31,42,27],[44,8,43,3,"name"],[44,12,43,7],[44,14,43,9],[44,22,43,17],[45,8,44,3,"salt"],[45,12,44,7],[45,14,44,9,"salt"],[45,18,44,13],[46,8,45,3,"iterations"],[46,18,45,13],[46,20,45,15,"iterations"],[46,30,45,25],[47,8,46,3,"hash"],[47,12,46,7],[47,14,46,9],[48,10,47,4,"name"],[48,14,47,8],[48,16,47,10,"algo"],[49,8,48,3],[50,6,49,2],[50,7,49,3],[50,9,49,5,"key"],[50,12,49,8],[50,14,49,10,"length"],[50,20,49,16],[50,24,49,20],[50,25,49,21],[50,26,49,22],[51,4,50,1],[51,5,50,2],[51,6,50,3],[51,7,50,4,"then"],[51,11,50,8],[51,12,50,9],[51,22,50,19,"res"],[51,25,50,22],[51,27,50,24],[52,6,51,2],[52,13,51,9,"Buffer"],[52,19,51,15],[52,20,51,16,"from"],[52,24,51,20],[52,25,51,21,"res"],[52,28,51,24],[52,29,51,25],[53,4,52,1],[53,5,52,2],[53,6,52,3],[54,2,53,0],[55,2,54,0],[55,11,54,9,"checkNative"],[55,22,54,20,"checkNative"],[55,23,54,21,"algo"],[55,27,54,25],[55,29,54,27],[56,4,55,1],[56,8,55,5,"global"],[56,14,55,11],[56,15,55,12,"process"],[56,22,55,19],[56,26,55,23],[56,27,55,24,"global"],[56,33,55,30],[56,34,55,31,"process"],[56,41,55,38],[56,42,55,39,"browser"],[56,49,55,46],[56,51,55,48],[57,6,56,2],[57,13,56,9,"Promise"],[57,20,56,16],[57,21,56,17,"resolve"],[57,28,56,24],[57,29,56,25],[57,34,56,30],[57,35,56,31],[58,4,57,1],[59,4,58,1],[59,8,58,5],[59,9,58,6,"subtle"],[59,15,58,12],[59,19,58,16],[59,20,58,17,"subtle"],[59,26,58,23],[59,27,58,24,"importKey"],[59,36,58,33],[59,40,58,37],[59,41,58,38,"subtle"],[59,47,58,44],[59,48,58,45,"deriveBits"],[59,58,58,55],[59,60,58,57],[60,6,59,2],[60,13,59,9,"Promise"],[60,20,59,16],[60,21,59,17,"resolve"],[60,28,59,24],[60,29,59,25],[60,34,59,30],[60,35,59,31],[61,4,60,1],[62,4,61,1],[62,8,61,5,"checks"],[62,14,61,11],[62,15,61,12,"algo"],[62,19,61,16],[62,20,61,17],[62,25,61,22,"undefined"],[62,34,61,31],[62,36,61,33],[63,6,62,2],[63,13,62,9,"checks"],[63,19,62,15],[63,20,62,16,"algo"],[63,24,62,20],[63,25,62,21],[64,4,63,1],[65,4,64,1,"ZERO_BUF"],[65,12,64,9],[65,15,64,12,"ZERO_BUF"],[65,23,64,20],[65,27,64,24,"Buffer"],[65,33,64,30],[65,34,64,31,"alloc"],[65,39,64,36],[65,40,64,37],[65,41,64,38],[65,42,64,39],[66,4,65,1],[66,8,65,5,"prom"],[66,12,65,9],[66,15,65,12,"browserPbkdf2"],[66,28,65,25],[66,29,65,26,"ZERO_BUF"],[66,37,65,34],[66,39,65,36,"ZERO_BUF"],[66,47,65,44],[66,49,65,46],[66,51,65,48],[66,53,65,50],[66,56,65,53],[66,58,65,55,"algo"],[66,62,65,59],[66,63,65,60],[66,64,66,3,"then"],[66,68,66,7],[66,69,67,3],[66,81,67,15],[67,6,67,17],[67,13,67,24],[67,17,67,28],[68,4,67,30],[68,5,67,31],[68,7,68,3],[68,19,68,15],[69,6,68,17],[69,13,68,24],[69,18,68,29],[70,4,68,31],[70,5,69,2],[70,6,69,3],[71,4,70,1,"checks"],[71,10,70,7],[71,11,70,8,"algo"],[71,15,70,12],[71,16,70,13],[71,19,70,16,"prom"],[71,23,70,20],[72,4,71,1],[72,11,71,8,"prom"],[72,15,71,12],[73,2,72,0],[74,2,74,0],[74,11,74,9,"resolvePromise"],[74,25,74,23,"resolvePromise"],[74,26,74,24,"promise"],[74,33,74,31],[74,35,74,33,"callback"],[74,43,74,41],[74,45,74,43],[75,4,75,1,"promise"],[75,11,75,8],[75,12,75,9,"then"],[75,16,75,13],[75,17,75,14],[75,27,75,24,"out"],[75,30,75,27],[75,32,75,29],[76,6,76,2,"getNextTick"],[76,17,76,13],[76,18,76,14],[76,19,76,15],[76,20,76,16],[76,32,76,28],[77,8,77,3,"callback"],[77,16,77,11],[77,17,77,12],[77,21,77,16],[77,23,77,18,"out"],[77,26,77,21],[77,27,77,22],[78,6,78,2],[78,7,78,3],[78,8,78,4],[79,4,79,1],[79,5,79,2],[79,7,79,4],[79,17,79,14,"e"],[79,18,79,15],[79,20,79,17],[80,6,80,2,"getNextTick"],[80,17,80,13],[80,18,80,14],[80,19,80,15],[80,20,80,16],[80,32,80,28],[81,8,81,3,"callback"],[81,16,81,11],[81,17,81,12,"e"],[81,18,81,13],[81,19,81,14],[82,6,82,2],[82,7,82,3],[82,8,82,4],[83,4,83,1],[83,5,83,2],[83,6,83,3],[84,2,84,0],[85,2,85,0,"module"],[85,8,85,6],[85,9,85,7,"exports"],[85,16,85,14],[85,19,85,17],[85,29,85,27,"password"],[85,37,85,35],[85,39,85,37,"salt"],[85,43,85,41],[85,45,85,43,"iterations"],[85,55,85,53],[85,57,85,55,"keylen"],[85,63,85,61],[85,65,85,63,"digest"],[85,71,85,69],[85,73,85,71,"callback"],[85,81,85,79],[85,83,85,81],[86,4,86,1],[86,8,86,5],[86,15,86,12,"digest"],[86,21,86,18],[86,26,86,23],[86,36,86,33],[86,38,86,35],[87,6,87,2,"callback"],[87,14,87,10],[87,17,87,13,"digest"],[87,23,87,19],[88,6,88,2,"digest"],[88,12,88,8],[88,15,88,11,"undefined"],[88,24,88,20],[89,4,89,1],[90,4,91,1,"digest"],[90,10,91,7],[90,13,91,10,"digest"],[90,19,91,16],[90,23,91,20],[90,29,91,26],[91,4,92,1],[91,8,92,5,"algo"],[91,12,92,9],[91,15,92,12,"toBrowser"],[91,24,92,21],[91,25,92,22,"digest"],[91,31,92,28],[91,32,92,29,"toLowerCase"],[91,43,92,40],[91,44,92,41],[91,45,92,42],[91,46,92,43],[92,4,94,1],[92,8,94,5],[92,9,94,6,"algo"],[92,13,94,10],[92,17,94,14],[92,24,94,21,"global"],[92,30,94,27],[92,31,94,28,"Promise"],[92,38,94,35],[92,43,94,40],[92,53,94,50],[92,55,94,52],[93,6,95,2,"getNextTick"],[93,17,95,13],[93,18,95,14],[93,19,95,15],[93,20,95,16],[93,32,95,28],[94,8,96,3],[94,12,96,7,"out"],[94,15,96,10],[95,8,97,3],[95,12,97,7],[96,10,98,4,"out"],[96,13,98,7],[96,16,98,10,"sync"],[96,20,98,14],[96,21,98,15,"password"],[96,29,98,23],[96,31,98,25,"salt"],[96,35,98,29],[96,37,98,31,"iterations"],[96,47,98,41],[96,49,98,43,"keylen"],[96,55,98,49],[96,57,98,51,"digest"],[96,63,98,57],[96,64,98,58],[97,8,99,3],[97,9,99,4],[97,10,99,5],[97,17,99,12,"e"],[97,18,99,13],[97,20,99,15],[98,10,100,4,"callback"],[98,18,100,12],[98,19,100,13,"e"],[98,20,100,14],[98,21,100,15],[99,10,101,4],[100,8,102,3],[101,8,103,3,"callback"],[101,16,103,11],[101,17,103,12],[101,21,103,16],[101,23,103,18,"out"],[101,26,103,21],[101,27,103,22],[102,6,104,2],[102,7,104,3],[102,8,104,4],[103,6,105,2],[104,4,106,1],[105,4,108,1,"checkParameters"],[105,19,108,16],[105,20,108,17,"iterations"],[105,30,108,27],[105,32,108,29,"keylen"],[105,38,108,35],[105,39,108,36],[106,4,109,1,"password"],[106,12,109,9],[106,15,109,12,"toBuffer"],[106,23,109,20],[106,24,109,21,"password"],[106,32,109,29],[106,34,109,31,"defaultEncoding"],[106,49,109,46],[106,51,109,48],[106,61,109,58],[106,62,109,59],[107,4,110,1,"salt"],[107,8,110,5],[107,11,110,8,"toBuffer"],[107,19,110,16],[107,20,110,17,"salt"],[107,24,110,21],[107,26,110,23,"defaultEncoding"],[107,41,110,38],[107,43,110,40],[107,49,110,46],[107,50,110,47],[108,4,111,1],[108,8,111,5],[108,15,111,12,"callback"],[108,23,111,20],[108,28,111,25],[108,38,111,35],[108,40,111,37],[109,6,112,2],[109,12,112,8],[109,16,112,12,"Error"],[109,21,112,17],[109,22,112,18],[109,54,112,50],[109,55,112,51],[110,4,113,1],[111,4,115,1,"resolvePromise"],[111,18,115,15],[111,19,115,16,"checkNative"],[111,30,115,27],[111,31,115,28,"algo"],[111,35,115,32],[111,36,115,33],[111,37,115,34,"then"],[111,41,115,38],[111,42,115,39],[111,52,115,49,"resp"],[111,56,115,53],[111,58,115,55],[112,6,116,2],[112,10,116,6,"resp"],[112,14,116,10],[112,16,116,12],[113,8,117,3],[113,15,117,10,"browserPbkdf2"],[113,28,117,23],[113,29,117,24,"password"],[113,37,117,32],[113,39,117,34,"salt"],[113,43,117,38],[113,45,117,40,"iterations"],[113,55,117,50],[113,57,117,52,"keylen"],[113,63,117,58],[113,65,117,60,"algo"],[113,69,117,64],[113,70,117,65],[114,6,118,2],[115,6,120,2],[115,13,120,9,"sync"],[115,17,120,13],[115,18,120,14,"password"],[115,26,120,22],[115,28,120,24,"salt"],[115,32,120,28],[115,34,120,30,"iterations"],[115,44,120,40],[115,46,120,42,"keylen"],[115,52,120,48],[115,54,120,50,"digest"],[115,60,120,56],[115,61,120,57],[116,4,121,1],[116,5,121,2],[116,6,121,3],[116,8,121,5,"callback"],[116,16,121,13],[116,17,121,14],[117,2,122,0],[117,3,122,1],[118,0,122,2],[118,3]],"functionMap":{"names":["<global>","getNextTick","browserPbkdf2","subtle.importKey.then$argument_0","subtle.importKey.then.then$argument_0","checkNative","browserPbkdf2.then$argument_0","browserPbkdf2.then$argument_1","resolvePromise","promise.then$argument_0","getNextTick$argument_0","promise.then$argument_1","module.exports","checkNative.then$argument_0"],"mappings":"AAA;ACwB;CDc;AEC;0FCC;EDS,OE;EFE;CFC;AKC;GCa,4BD;GEC,6BF;CLI;AQE;cCC;gBCC;GDE;EDC,EG;gBDC;GCE;EHC;CRC;iBYC;gBFU;GES;uCCW;EDM;CZC"}},"type":"js/module"}]}